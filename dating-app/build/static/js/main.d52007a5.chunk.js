(this["webpackJsonpdating-app"]=this["webpackJsonpdating-app"]||[]).push([[0],{172:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),s=a.n(c),i=(a(187),a(5)),o=a.n(i),l=a(10),d=a(3),j=(a(189),r.a.createContext()),u=a.p+"static/media/CoverPhoto.eab8d842.jpeg",b=a(356),h=a(353),p=a(178),x=a(355),O=(a(190),a.p,a(15)),m=a(9),g=a.n(m),f=a(354),v=a(19),y=function(e){return e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),void 0!==e.response.data.message?e.response.data.message:void 0):e.request?(console.log(e.request),e.request):(console.log("Error",e.message),alert(e.message),e.message)},k=a(16),w=a(1);var N=function(){var e=Object(n.useContext)(j),t=(e.accessToken,e.setAccessToken),a=(e.refreshToken,e.setRefreshToken),r=(e.userData,e.setUserData),c=(e.refreshAccessToken,e.setLoggedIn),s=Object(n.useState)(null),i=Object(d.a)(s,2),u=i[0],b=i[1],p=v.a().shape({email:v.c().email("Invalid email").required("Email adresa je obavezna."),password:v.c().min(6).max(20).required("Lozinka je obavezna.")}),m=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3000/api/v1/user",{headers:{authorization:t}});case 3:a=e.sent,console.log(a.data),r(a.data),1==a.data.completedSetup?N.push("/main"):N.push("/completeSetup"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=Object(k.g)();return Object(w.jsx)("div",{className:"page-holder bg-cover",children:Object(w.jsx)(h.a,{children:Object(w.jsx)(O.c,{initialValues:{email:"",password:""},validationSchema:p,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(n){var r,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("http://localhost:3000/api/v1/login",n);case 3:r=e.sent,s=r.data,i=s.data,s.message,s.length,localStorage.setItem("refreshToken",i.refresh),a(i.refresh),t(i.access),m(i.access),c(!0),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),l=y(e.t0),console.log(l),b(l);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched;return Object(w.jsxs)(O.b,{children:[Object(w.jsx)("label",{htmlFor:"email",style:{color:"white",fontSize:"20px"},children:"Email"}),Object(w.jsx)(O.a,{name:"email",type:"email",className:"form-control form-group"}),t.email&&a.email?Object(w.jsx)(f.a,{variant:"warning",children:t.email}):null,Object(w.jsx)("label",{htmlFor:"password",style:{color:"white",fontSize:"20px"},children:"Lozinka"}),Object(w.jsx)(O.a,{name:"password",type:"password",className:"form-control form-group"}),t.password&&a.password?Object(w.jsx)(f.a,{variant:"warning",children:t.password}):null,Object(w.jsx)("div",{style:{textAlign:"center",marginTop:"30px"},children:Object(w.jsx)(x.a,{type:"submit",size:"md",style:{width:"50%",padding:"10px",backgroundColor:"#578BB8",border:"none"},children:"Log In"})}),null!=u?Object(w.jsx)(f.a,{variant:"danger",children:u}):null,Object(w.jsx)("div",{style:{marginTop:"20px",textAlign:"center",marginBottom:"10px"},children:Object(w.jsx)("a",{href:"#",style:{color:"black"},onClick:function(){return N.push("/forgotPassword")},children:"Forgot Password?"})})]})}})})})},C=a.p+"static/media/logo_transparent.47e46646.svg",S=a(27);a(311);var z=function(){var e=Object(k.g)();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"emailVal",children:["Poslali smo vam email na va\u0161u E-mail adresu. Please validate your Email.",Object(w.jsx)("img",{width:"50%",style:{padding:"20px"},src:"https://www.kindpng.com/picc/m/285-2852276_email-id-verification-reminder-plugin-verify-email-illustration.png"}),Object(w.jsx)("br",{}),Object(w.jsx)(x.a,{variant:"light",size:"lg",onClick:function(){return e.push("/")},children:"Back to Page"})]})})};var T=function(){for(var e=v.a().shape({firstName:v.c().min(2).max(60).required("Ime je obavezno."),lastName:v.c().min(2).max(60).required("Prezime je obavezno."),email:v.c().email("Kriva email adresa.").required("Email adresa je obavezna."),password:v.c().required("Molim vas unesite svoju lozinku.").matches(/^.*(?=.{8,})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Lozinka se mora sastojati od barem 8 znakova, jedno veliko slovo i jedan broj."),confirmPassword:v.c().required("Molim vas potvrdite svoju lozinku.").oneOf([v.b("password"),null],"Loiznke se ne podudaraju."),gender:v.c().required("Spol je obavezan."),day:v.c().required("Unesite dan."),month:v.c().required("Unesite mjesec."),year:v.c().required("Unesite godinu."),city:v.c().min(2).max(60).required("Grad je obavezan."),zip:v.c().required("Po\u0161tanski broj je obavezan.").matches(/^\d{5}(?:[-\s]\d{4})?$/,"Zip must contain 5 numbers e.g 10000")}),t=[],a=["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],r=[],c=1;c<=31;c++)t.push(c);for(var s=1900;s<=2021;s++)r.push(s);var i=Object(n.useState)(!1),j=Object(d.a)(i,2),u=j[0],b=j[1];return 1==u?Object(w.jsx)(z,{}):Object(w.jsx)("div",{children:Object(w.jsx)(O.c,{initialValues:{firstName:"",lastName:"",email:"",password:"",gender:"",day:"",month:"",year:"",city:"",zip:""},validationSchema:e,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dob=(r=t.day,c=t.month,s=t.year,(c=a.indexOf(c)+1)<10&&(c="0"+c),s+"-"+c+"-"+r),console.log(t),delete t.day,delete t.month,delete t.year,delete t.confirmPassword,e.prev=6,e.next=9,g.a.post("http://localhost:3000/api/v1/user",t);case 9:n=e.sent,console.log(n.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),y(e.t0);case 16:b(!0);case 17:case"end":return e.stop()}var r,c,s}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,c=e.touched,s=e.values;return Object(w.jsx)(O.b,{children:Object(w.jsxs)(h.a,{width:"100%",id:"register_user",style:{justifyContent:"center",width:"100%",padding:"0",margin:"0",marginTop:"50px"},children:[Object(w.jsxs)(p.a,{lg:6,md:6,sm:12,style:{padding:"10px",background:"#578BB8",marginTop:"-20px"},children:[Object(w.jsx)("h1",{style:{color:"white",fontWeight:"bold",fontSize:"3rem",textAlign:"left"},children:"Registriraj se"}),Object(w.jsxs)(h.a,{width:"100%",children:[Object(w.jsxs)(p.a,{lg:6,children:[" ",Object(w.jsx)("label",{htmlFor:"firstName",style:{color:"white",fontSize:"20px"},children:"Ime"}),Object(w.jsx)(O.a,Object(S.a)({name:"firstName",type:"text",className:"form-control form-group",style:{width:"50%"}},"style",{backgroundColor:"#A8CEED",border:"none"})),n.firstName&&c.firstName?Object(w.jsx)(f.a,{variant:"warning",children:n.firstName}):null]}),Object(w.jsxs)(p.a,{lg:6,children:[Object(w.jsx)("label",{htmlFor:"lastName",style:{color:"white",fontSize:"20px"},children:"Prezime"}),Object(w.jsx)(O.a,{name:"lastName",type:"text",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.lastName&&c.lastName?Object(w.jsx)(f.a,{variant:"warning",children:n.lastName}):null]})]}),Object(w.jsx)("label",{htmlFor:"email",style:{color:"white",fontSize:"20px"},children:"Email adresa"}),Object(w.jsx)(O.a,{name:"email",type:"email",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.email&&c.email?Object(w.jsx)(f.a,{variant:"warning",children:n.email}):null,Object(w.jsx)("label",{htmlFor:"lastName",style:{color:"white",fontSize:"20px"},children:"Lozinka"}),Object(w.jsx)(O.a,{name:"password",type:"password",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.password&&c.password?Object(w.jsx)(f.a,{variant:"warning",children:n.password}):null,Object(w.jsx)("label",{htmlFor:"lastName",style:{color:"white",fontSize:"20px"},children:"Potvrdi Lozinku"}),Object(w.jsx)(O.a,{name:"confirmPassword",type:"password",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.confirmPassword&&c.confirmPassword?Object(w.jsx)(f.a,{variant:"warning",children:n.confirmPassword}):null]}),Object(w.jsxs)(p.a,{style:Object(S.a)({marginTop:"9px",background:"#578BB8",marginLeft:"20px"},"marginTop","-20px"),lg:3,md:3,sm:12,children:[Object(w.jsxs)(h.a,{width:"100%",style:{marginTop:"73px"},children:[Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsx)("label",{htmlFor:"city",style:{color:"white",fontSize:"20px",display:"inline-block"},children:"Grad"}),Object(w.jsx)(O.a,{name:"city",type:"text",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.city&&c.city?Object(w.jsx)(f.a,{variant:"warning",children:n.city}):null]}),Object(w.jsxs)(p.a,{lg:4,children:[Object(w.jsx)("label",{htmlFor:"lastName",style:{color:"white",fontSize:"20px"},children:"Zip"}),Object(w.jsx)(O.a,{name:"zip",placeholder:"npr. 10000",type:"number",pattern:"[A-Za-z]{3}",className:"form-control form-group",style:{backgroundColor:"#A8CEED",border:"none"}}),n.zip&&c.zip?Object(w.jsx)(f.a,{variant:"warning",children:n.zip}):null]})]}),Object(w.jsx)("label",{htmlFor:"dob",style:{color:"white",fontSize:"20px"},children:"Datum ro\u0111enja"}),Object(w.jsx)("br",{}),Object(w.jsxs)(O.a,{name:"day",id:"day",type:"string",as:"select",className:"my-select",value:s.day,style:{padding:"10px",borderRadius:"5px"},children:[Object(w.jsx)("option",{value:"",style:{display:"none"},children:"Dan"}),t.map((function(e){return Object(w.jsx)("option",{value:e,children:e})}))]}),n.day&&c.day?Object(w.jsx)(f.a,{variant:"warning",children:n.day}):null,Object(w.jsxs)(O.a,{name:"month","data-dropup-auto":"false",id:"month",type:"string",as:"select",className:"my-select",value:s.month,style:{padding:"10px",borderRadius:"5px"},children:[Object(w.jsx)("option",{value:"",style:{display:"none"},children:"Mjesec"}),a.map((function(e){return Object(w.jsx)("option",{value:e,children:e})}))]}),n.month&&c.month?Object(w.jsx)(f.a,{variant:"warning",children:n.month}):null,Object(w.jsxs)(O.a,{"data-dropup-auto":"false",name:"year",id:"year",type:"string",as:"select",className:"my-select",value:s.year,style:{padding:"10px",borderRadius:"5px"},children:[Object(w.jsx)("option",{value:"",style:{display:"none"},children:"Godina"}),r.map((function(e){return Object(w.jsx)("option",{value:e,children:e})}))]}),n.year&&c.year?Object(w.jsx)(f.a,{variant:"warning",children:n.year}):null,Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"gender",style:{color:"white",fontSize:"20px"},children:"Spol"}),Object(w.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",style:{color:"white"},children:[Object(w.jsx)("div",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)(O.a,{type:"radio",name:"gender",value:"Male"}),"Male"]})}),Object(w.jsx)("div",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)(O.a,{type:"radio",name:"gender",value:"Female"}),"Female"]})}),Object(w.jsx)("div",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)(O.a,{type:"radio",name:"gender",value:"Other"}),"Other"]})})]}),n.gender&&c.gender?Object(w.jsx)(f.a,{variant:"warning",children:n.gender}):null,Object(w.jsx)("div",{style:{textAlign:"center"},children:Object(w.jsx)(x.a,{type:"submit",size:"lg",style:{width:"50%",padding:"10px",fontWeight:"bold",backgroundColor:"#DF314D",border:"none",marginBottom:"20px"},children:"Prijavi se"})})]})]})})}})})};a(312);var B=function(){return Object(w.jsx)(b.a,{fluid:!0,children:Object(w.jsxs)(h.a,{style:{padding:"0",margin:"0"},children:[Object(w.jsxs)(p.a,{lg:10,className:"about",children:[Object(w.jsx)("h1",{children:"O nama"}),Object(w.jsx)("h3",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."})]}),Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("div",{id:"register_user"}),Object(w.jsx)(T,{})]})}),Object(w.jsx)("div",{style:{marginBottom:"150px"}})]})})},P=a.p+"static/media/World_Map.018ca89e.png";var R=function(){return Object(w.jsx)(b.a,{fluid:!0,style:{background:"url(".concat(P,")"),height:"100vh",backgroundSize:"cover",backgroundPosition:"center"},className:"page-holder bg-cover",children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{lg:12,style:{textAlign:"center"},children:Object(w.jsx)("h1",{style:{color:"#DF314D",marginTop:"-50px",fontWeight:"bold"},children:"Prona\u0111i svoju srodnu du\u0161u na mapi.Mo\u017eda je samo od tebe 2km!?"})})})})},D=(a(313),a.p+"static/media/girl.ce752aa8.jpeg"),L=(a.p,a.p+"static/media/boy.bdff6215.jpeg"),U=a.p+"static/media/boy2.f76342b4.jpeg";var I=function(){return Object(w.jsxs)(b.a,{fluid:!0,style:{backgroundColor:"#A8CEED"},className:"page-holder bg-cover",children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{style:{marginTop:"50px"},children:Object(w.jsx)("h1",{className:"reviews",children:"Pitali smo korisnike"})})}),Object(w.jsxs)(h.a,{style:{width:"100%",justifyContent:"center",textAlign:"center"},children:[Object(w.jsxs)(p.a,{lg:2,className:"userBox",children:[Object(w.jsx)("img",{src:D,id:"profilePhoto"}),Object(w.jsx)("h1",{children:"Ivana Ivanic"}),Object(w.jsxs)("p",{children:["It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."," "]}),Object(w.jsx)("i",{class:"fas fa-star",children:"5 stars"})]}),Object(w.jsxs)(p.a,{lg:2,className:"userBox",style:{backgroundColor:"#DF314D"},children:[Object(w.jsx)("img",{src:L,id:"profilePhoto"}),Object(w.jsx)("h1",{children:"Sven Tadi\u0107"}),Object(w.jsxs)("p",{children:["It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."," "]}),Object(w.jsx)("i",{class:"fas fa-star",children:"5 stars"})]}),Object(w.jsxs)(p.a,{lg:2,className:"userBox",children:[Object(w.jsx)("img",{src:U,id:"profilePhoto"}),Object(w.jsx)("h1",{children:"Marko Marki\u0107"}),Object(w.jsxs)("p",{children:["It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."," "]}),Object(w.jsx)("i",{class:"fas fa-star",children:"4 stars"})]})]})]})};var E=function(){return Object(w.jsx)("div",{style:{backgroundColor:"#578BB8",textAlign:"center",padding:"20px"},children:Object(w.jsx)("h3",{children:"Copyright and design by Laura Su\u010di\u0107 2021"})})},F=a(29);var M=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1];return window.addEventListener("scroll",(function(){!a&&window.pageYOffset>400?r(!0):a&&window.pageYOffset<=400&&r(!1)})),Object(w.jsxs)(b.a,{fluid:!0,style:{background:"url(".concat(u,")"),height:"100vh",backgroundSize:"cover",backgroundPosition:"center"},className:"page-holder bg-cover",children:[Object(w.jsxs)(h.a,{style:{textAlign:"right",width:"100%"},children:[Object(w.jsx)(p.a,{lg:2,children:Object(w.jsx)("img",{src:C,style:{marginLeft:"80px",width:"100%"}})}),Object(w.jsx)(p.a,{style:{padding:"20px"},lg:10,children:Object(w.jsx)(x.a,{style:{padding:"20px",backgroundColor:"#578BB8",marginTop:"20px",color:"white",border:"none"},children:Object(w.jsx)("a",{style:{textDecoration:"none",color:"white"},href:"#register_user",children:"Register"})})})]}),Object(w.jsxs)(h.a,{style:{width:"100%",textAlign:"center",justifyContent:"center",marginTop:"-50px",marginBottom:"300px"},children:[Object(w.jsxs)(p.a,{className:"loginBox",lg:4,children:[Object(w.jsx)("h1",{className:"title",children:"Dobrodo\u0161li u FindMe!"}),Object(w.jsx)("h4",{className:"subtitle",children:"Ulogiraj se i prona\u0111i srodnu du\u0161u u samo nekoliko klikova!"}),Object(w.jsx)(F.a,{className:"scrollTop",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{height:40,color:"#DF314D",display:a?"flex":"none"}}),Object(w.jsx)(N,{})]}),Object(w.jsx)(p.a,{lg:6})]})]})},A=a(24),_=a(13),q=a(360),H=(a.p,a(12)),K=a.n(H);var G=function(){var e=Object(n.useContext)(j),t=e.accessToken,a=(e.userData,Object(k.g)()),c=Object(n.useState)(!1),s=Object(d.a)(c,2),i=(s[0],s[1],Object(n.useState)(1)),u=Object(d.a)(i,2),O=u[0],m=u[1],f=Object(n.useRef)(),v=Object(n.useRef)(),N=Object(n.useRef)(),C=Object(n.useState)("https://res.cloudinary.com/dbfwwnhat/image/upload/v1624200889/users/rvzipikczav6cdlwemyi.png"),S=Object(d.a)(C,2),z=S[0],T=S[1],B=Object(n.useState)("/dbfwwnhat/image/upload/v1624200889/users/rvzipikczav6cdlwemyi.png"),P=Object(d.a)(B,2),R=P[0],D=P[1],L=Object(n.useState)(""),U=Object(d.a)(L,2),I=(U[0],U[1],Object(n.useState)("")),E=Object(d.a)(I,2),F=(E[0],E[1],Object(n.useState)(!1)),M=Object(d.a)(F,2),A=(M[0],M[1],["Males","Females","Both"]),H=Object(n.useRef)(""),K=window.cloudinary.createUploadWidget({cloudName:"dbfwwnhat",uploadPreset:"jydos0sa",folder:"users",name:"hey"},(function(e,t){"queues-end"==t.event&&(console.log(t),T(t.info.files[0].uploadInfo.secure_url),D(t.info.files[0].uploadInfo.secure_url))}));function G(){K.open()}var W=function(){m(O+1)},Z=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(H.current.value),console.log(t),e.next=5,g.a.patch("http://localhost:3000/api/v1/user",{description:H.current.value},{headers:{authorization:t}});case 5:a=e.sent,console.log(a.data),W(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y(e.t0);case 13:W();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,g.a.patch("http://localhost:3000/api/v1/user",{imageUrl:R},{headers:{authorization:t}});case 4:a=e.sent,console.log(a.data),W(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementsByName("gender"),r=Object(_.a)(n).filter((function(e){return e.checked}))[0].value,e.prev=2,e.next=5,g.a.patch("http://localhost:3000/api/v1/user",{sexualOrientation:Number(A.indexOf(r))},{headers:{authorization:t}});case 5:c=e.sent,console.log(c.data),a.push("/main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();function Y(){return Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(h.a,{style:{justifyContent:"center",border:"2px solid black",textAlign:"center"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("h1",{style:{marginTop:"30px"},children:"Set your Profile Photo"}),Object(w.jsx)(h.a,{children:Object(w.jsx)("img",{src:z,style:{width:"20%",margin:"0 auto"}})}),Object(w.jsx)(x.a,{onClick:G,size:"lg",style:{marginBottom:"20px"},children:"Upload Image"}),Object(w.jsx)("br",{}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",style:{marginRight:"20px",borderRadius:"1px",marginBottom:"30px"},onClick:J,children:"Submit"}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",onClick:W,style:{marginRight:"20px",borderRadius:"1px",marginBottom:"30px"},children:"Skip"})]})})})}function $(){return Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(h.a,{style:{justifyContent:"center",border:"2px solid black",height:"500px",textAlign:"center"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("h1",{style:{marginTop:"30px"},children:"Add Description"}),Object(w.jsx)(q.a.Control,{as:"textarea",placeholder:"Education,Job,Hobbies etc.",style:{height:"300px",width:"50vw",margin:"0 auto",marginBottom:"10px"},ref:H}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",style:{marginRight:"20px",borderRadius:"1px",marginBottom:"30px"},onClick:Z,children:"Submit"}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",onClick:W,style:{marginRight:"20px",borderRadius:"1px",marginBottom:"30px"},children:"Skip"})]})})})}var Q=function(){a.push("/main")};function X(){return Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(h.a,{style:{justifyContent:"center",border:"2px solid black",height:"500px",textAlign:"center"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("h1",{style:{marginTop:"30px"},children:"Add Your Sexual Orientation"}),Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{style:{padding:"20px",height:"300px"},children:Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"radio",value:"Males",name:"gender",ref:f})," ",A[0],Object(w.jsx)("input",{type:"radio",value:"Females",name:"gender",ref:v})," ",A[1],Object(w.jsx)("input",{type:"radio",value:"Both",name:"gender",ref:N})," ",A[2]]})})}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",style:{marginRight:"20px",borderRadius:"1px"},onClick:V,children:"Submit"}),Object(w.jsx)(x.a,{size:"lg",variant:"outline-dark",onClick:Q,style:{marginRight:"20px",borderRadius:"1px"},children:"Skip"})]})})})}return Object(w.jsxs)(b.a,{children:[Object(w.jsxs)(h.a,{style:{justifyContent:"center",marginTop:"50px",textAlign:"center"},children:[Object(w.jsx)("h1",{children:"Complete your Setup"}),Object(w.jsxs)("h2",{children:["You can skip for now but you will be"," ",Object(w.jsx)("span",{style:{textDecoration:"underline"},children:"less visible to users."})," "]})]}),1==O?Object(w.jsx)(Y,{}):null,2==O?Object(w.jsx)($,{}):null,3==O?Object(w.jsx)(X,{}):null]})},W=a(357),Z=a(119),J=(a(108),a(58));a(325);var V=function(e){var t=e.users,a=e.setViewport,r=Object(n.useContext)(j),c=r.userData,s=r.accessToken,i=r.userPoints,d=r.setUserPoints;console.log(i);var u=Object(k.g)(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3000/api/v1/userPoints/like"+"/".concat(t),{headers:{authorization:s}});case 3:a=e.sent,console.log(a.data),d(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"cards",children:[Object(w.jsx)("h3",{style:{color:"white"},children:"Korisnici na mapi"}),t.map((function(e){var t;if(e._id!=c._id)return Object(w.jsxs)(h.a,{style:{margin:"0",padding:"0",marginTop:"20px"},className:"card",onClick:function(){return a({width:"100%",height:"90vh",latitude:e.lastKnownLocation.coordinates[0],longitude:e.lastKnownLocation.coordinates[1],zoom:15})},children:[Object(w.jsx)("br",{}),Object(w.jsxs)(h.a,{style:{marginTop:"10px"},children:[Object(w.jsxs)(p.a,{lg:4,children:[Object(w.jsx)("img",{src:e.imageUrl,width:"30%",id:"rounded-image"}),Object(w.jsx)(x.a,{className:"user-button",onClick:function(){return t=e._id,void u.push("/user/".concat(t));var t},children:"Pogledaj Profil"}),Object(w.jsx)(x.a,{className:"btn1",variant:"primary",style:{width:"50%",marginTop:"10px",marginLeft:"10px"},onClick:function(){return b(e._id)},disabled:!!(null===i||void 0===i?void 0:i.liked.includes(e._id)),children:"Like"})]}),Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsxs)("h1",{className:"user-name",children:[e.firstName," ",e.lastName," ,",e.age,",",e.gender]}),Object(w.jsxs)("h3",{className:"user-city",children:[e.city,",",e.zip]}),Object(w.jsx)("p",{style:{color:"#578BB8",fontWeight:"bold"},children:"2 km od mene"}),Object(w.jsx)("h5",{children:"O meni"}),Object(w.jsx)("p",{children:K.a.isNull(e.description)?e.description:"Nema opisa"}),Object(w.jsx)("p",{children:null===(t=e.interests)||void 0===t?void 0:t.map((function(e){return Object(w.jsx)("li",{className:"user-interest",children:e.interest})}))})]})]})]})}))]})};a(326);var Y=function(e){e.users;var t=e.setMarkers,a=Object(n.useContext)(j).userData,r=Object(n.useRef)(null),c=Object(n.useRef)(null),s=Object(n.useRef)(null),i=(Object(n.useRef)(null),Object(n.useState)([])),u=Object(d.a)(i,2),b=u[0],O=u[1],m=Object(n.useState)(null),f=Object(d.a)(m,2),v=f[0],k=f[1],N=Object(n.useContext)(j).accessToken,C=function(){var e=Object(l.a)(o.a.mark((function e(){var a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={range:r.current.value},K.a.isNull(v)||(a.sex=v),K.a.isEmpty(b)||(a.interests=b.map((function(e){return{category:"1",interest:e}}))),""==!c.current.value&&""==!s.current.value&&(console.log(c.current.value),a.age={min:c.current.value,max:s.current.value}),console.log(a),1!=Object.keys(a).length||"range"!=Object.keys(a)[0]){e.next=20;break}return console.log("hej range"),e.prev=7,e.next=10,g.a.get("http://localhost:3000/api/v1/map?range="+a.range,{headers:{authorization:N}});case 10:n=e.sent,console.log(n.data),t(n.data),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),y(e.t0);case 18:e.next=31;break;case 20:return e.prev=20,e.next=23,g.a.post("http://localhost:3000/api/v1/map",a,{headers:{authorization:N}});case 23:i=e.sent,console.log(i.data),t(i.data),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(20),y(e.t1);case 31:case"end":return e.stop()}}),e,null,[[7,15],[20,28]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){k(e.target.value)};return Object(w.jsxs)("div",{className:"filters",children:[Object(w.jsx)("h4",{style:{color:"white"},children:"Filtriraj korisnike"}),Object(w.jsxs)(h.a,{style:{backgroundColor:"white",margin:"0",padding:"0",height:"80%"},children:[Object(w.jsxs)(p.a,{lg:6,children:[Object(w.jsxs)("span",{children:[Object(w.jsx)("h5",{style:{display:"inline"},children:"Radijus :"})," ",Object(w.jsx)("select",{ref:r,style:{display:"inline"},className:"radius-select",children:[50,100,150,200,500].map((function(e){return Object(w.jsxs)("option",{value:e,children:[e," km"]})}))})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("span",{style:{marginTop:"10px"},children:[Object(w.jsx)("h5",{style:{display:"inline"},children:"Godine :"})," min"," ",Object(w.jsx)("input",{type:"number",min:"18",ref:c,className:"input-age"}),Object(w.jsx)("input",{type:"number",ref:s,className:"input-age",max:"100"})," ","max"]}),Object(w.jsx)("br",{}),Object(w.jsxs)("span",{children:[Object(w.jsx)("h5",{style:{display:"inline",marginTop:"10px"},children:"Spol :"}),Object(w.jsxs)("div",{class:"form-check",style:{marginLeft:"5px",display:"inline",paddingLeft:"30px"},onChange:function(e){return S(e)},children:[Object(w.jsx)("inputs",{class:"form-check-input",type:"radio",name:"flexRadioDefault",value:0,id:"flexRadioDefault1",onChange:function(e){return S(e)}}),Object(w.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Mu\u0161karci"}),Object(w.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",value:1,id:"flexRadioDefault1",onChange:function(e){return S(e)},style:{marginLeft:"5px"}}),Object(w.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",style:{marginLeft:"20px"},children:"\u017dene"}),Object(w.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",value:2,id:"flexRadioDefault1",onChange:function(e){return S(e)},style:{marginLeft:"5px"}}),Object(w.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Ostalo"})]})]}),Object(w.jsx)(x.a,{id:"search-someone",children:"Prona\u0111i mi nekoga danas"})]}),Object(w.jsxs)(p.a,{lg:6,children:[Object(w.jsx)("h5",{children:"Moji interesi"}),a.interests.map((function(e){return Object(w.jsxs)("span",{style:{marginLeft:"20px",paddingLeft:"5px"},onChange:function(t){return function(e,t){e.target.checked?O([].concat(Object(_.a)(b),[t.interest])):O(b.filter((function(e){return e!=t.interest})))}(t,e)},children:[Object(w.jsx)("input",{class:"form-check-input",type:"checkbox",value:e.interest,id:"flexCheckDefault"}),Object(w.jsx)("label",{class:"form-check-label",for:"flexCheckDefault",children:e.interest})]})})),Object(w.jsx)("br",{}),Object(w.jsx)(x.a,{onClick:C,id:"search-button",children:"Tra\u017ei"})]})]})]})};a(327);var $=function(e){var t=Object(k.g)(),a=Object(n.useContext)(j),r=a.userData,c=a.accessToken,s=a.setUserData,i=r.imageUrl,u=Object(n.useState)(500),b=Object(d.a)(u,2),h=b[0],p=(b[1],Object(n.useState)({width:"100%",height:"90vh",latitude:r.lastKnownLocation.coordinates[0],longitude:r.lastKnownLocation.coordinates[1],zoom:13})),O=Object(d.a)(p,2),m=O[0],f=O[1],v=Object(n.useState)([]),N=Object(d.a)(v,2),C=N[0],S=N[1],z=(Object(n.useRef)(""),function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3000/api/v1/map?range="+h,{headers:{authorization:c}});case 3:t=e.sent,S(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){z()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(J.d,Object(Z.a)(Object(Z.a)({},m),{},{mapboxApiAccessToken:"pk.eyJ1IjoiZmFra2tra2sxMjMiLCJhIjoiY2tvMzE5ZGxtMG83YjJwczU1MGlwbTQxeCJ9.rJAmua5SI6sdeLajf8wKUA",onViewportChange:function(e){return f(e)},mapStyle:"mapbox://styles/fakkkkkk123/ckq6pcalq3jpd17o6c7kiwz2y",style:{position:"absolute"},children:[Object(w.jsx)(x.a,{variant:"primary",onClick:function(){return"geolocation"in navigator?console.log("Available"):console.log("Not Available"),void navigator.geolocation.getCurrentPosition(function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Latitude is :",t.coords.latitude),console.log("Longitude is :",t.coords.longitude),e.prev=2,e.next=5,g.a.patch("http://localhost:3000/api/v1/userLocation",{latitude:t.coords.latitude,longitude:t.coords.longitude},{headers:{authorization:c}});case 5:a=e.sent,console.log(a.data),s(a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())},style:{float:"right",borderRadius:"0px",backgroundColor:"#578BB8",border:"none",zIndex:"100"},children:"Dohvati moju trenutnu lokaciju"}),Object(w.jsx)("div",{style:{clear:"both"}}),Object(w.jsx)(J.c,{id:"bull",type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:[[10,10],[-10,10],[-10,-10],[10,-10],[10,10]]}},children:Object(w.jsx)(J.a,{id:"nes",type:"fill",source:"bull",paint:{"fill-color":"#228b22","fill-opacity":1}})}),Object(w.jsx)(J.b,{latitude:r.lastKnownLocation.coordinates[0],longitude:r.lastKnownLocation.coordinates[1],offsetLeft:-50,zoom:11,children:Object(w.jsx)("img",{width:"80px",id:"profilePhoto",src:i,onClick:function(e){}})}),C.map((function(e,a){return e._id===r._id?Object(w.jsx)(w.Fragment,{}):Object(w.jsx)(J.b,{latitude:e.lastKnownLocation.coordinates[0],longitude:e.lastKnownLocation.coordinates[1],zoom:11,onClick:function(){return a=e._id,alert("You clicked on marker"),void t.push("/user/".concat(a));var a},offsetRight:-50,children:Object(w.jsx)("img",{width:"40px",src:e.imageUrl,id:"mapPhoto"})},a)}))]})),Object(w.jsx)(V,{users:C,setViewport:f}),Object(w.jsx)(Y,{setMarkers:S})]})},Q=(a(328),a(95)),X=a.n(Q);a(329);var ee=function(e){var t=e.date,a=e.fetchHearts,r=Object(n.useState)(0),c=Object(d.a)(r,2),s=c[0],i=c[1];function o(){var e=X()(t),n=X()(),r=Object(Q.duration)(e.diff(n)),c=r.minutes(),s=r.seconds();r.minutes()<0&&(c=0),r.seconds()<0&&(s=0),i({min:c,sec:s}),r.seconds()<0&&a()}return Object(n.useEffect)((function(){o();var e=setInterval((function(){o()}),1e3);return function(){return clearInterval(e)}}),[t]),Object(n.useEffect)((function(){Date.now()>=new Date(t)&&a()}),[]),Object(w.jsx)(b.a,{children:Object.keys(s).map((function(e,t){return Object(w.jsxs)("span",{className:"timer",children:[Object(w.jsx)("span",{className:"key",children:s[e]}),Object(w.jsx)("span",{children:e.toLowerCase()})]})}))})},te=(a.p,a.p+"static/media/heart.322d5c9d.png");a.p;var ae=function(){var e=Object(n.useContext)(j),t=e.accessToken,a=e.setAccessToken,r=e.userData,c=e.socket,s=e.setUserPoints,i=Object(k.g)(),u=Object(n.useState)(null),x=Object(d.a)(u,2),O=x[0],m=x[1],f=Object(n.useState)(null),v=Object(d.a)(f,2),N=v[0],S=v[1],z=Object(n.useState)([]),T=Object(d.a)(z,2),B=T[0],P=T[1],R=Object(n.useState)(null),D=Object(d.a)(R,2),L=D[0],U=D[1],I=Object(n.useState)(null),E=Object(d.a)(I,2),M=E[0],A=E[1],q=Object(n.useState)(!1),H=Object(d.a)(q,2);H[0],H[1],Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){c.on("getNotification",(function(e){U(e)}))}),[]),Object(n.useEffect)((function(){console.log(B)}),[B]),Object(n.useEffect)((function(){null!=L&&P([].concat(Object(_.a)(B),[L]))}),[L]),Object(n.useEffect)((function(){}),[O]);var G=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3000/api/v1/userPoints",{headers:{authorization:t}});case 3:a=e.sent,console.log("lifes"),console.log(a.data),s(a.data),m(a.data.lifes),S(a.data.nextHeartAt),P(a.data.notifications),A(a.data.chat_notifications),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),y(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(o.a.mark((function e(a,n,r,c){var s,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="0"==n?"http://localhost:3000/api/v1/userPoints/chatNotification/":"http://localhost:3000/api/v1/userPoints/notification/",l=function(e){0==n?i.push("chat/".concat(c)):1==n&&i.push("user/".concat(e))},e.prev=2,e.next=5,g.a.get(s+"".concat(a),{headers:{authorization:t}});case 5:d=e.sent,console.log(d.data),l(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a,n,r){return e.apply(this,arguments)}}();return Object(w.jsx)(b.a,{fluid:!0,style:{margin:"0",padding:"0"},className:"header",children:Object(w.jsxs)(h.a,{style:{width:"100%",padding:"0",margin:"0"},children:[Object(w.jsxs)(p.a,{lg:2,md:2,sm:2,children:[Object(w.jsx)("img",{src:C,style:{width:"60%"},onClick:function(){return i.push("/main")}}),Object(w.jsx)("span",{className:"title-app",children:"FindMe"})]}),Object(w.jsx)(p.a,{lg:8,md:2,sm:2,style:{textAlign:"right"},children:Object(w.jsx)(p.a,{style:{marginLeft:"90px"},children:null==N?null:Object(w.jsx)(ee,{date:N,fetchHearts:G,style:{marginTop:"-30px"}})})}),Object(w.jsx)(p.a,{lg:2,md:8,sm:8,children:Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:2,md:2,sm:2,children:[Object(w.jsx)("img",{src:te,style:{width:"50px",marginTop:"20px"}}),Object(w.jsx)("span",{})]}),Object(w.jsx)(p.a,{lg:1,style:{marginTop:"20px"},children:Object(w.jsx)("h1",{id:"numberOfHearts",children:O})}),Object(w.jsx)(p.a,{lg:2,md:2,sm:2,style:{marginLeft:"50px"},children:Object(w.jsxs)("div",{class:"dropdown",children:[Object(w.jsx)(F.b,{id:"notBell"}),Object(w.jsxs)("div",{class:"dropdown-notification",children:[null===B||void 0===B?void 0:B.map((function(e){return Object(w.jsx)("p",{style:0==e.seen?{backgroundColor:"lightgrey"}:{backgroundColor:"white"},onClick:function(){return W(e._id,e.type,e.senderId)},children:e.text})})),null===M||void 0===M?void 0:M.map((function(e){return Object(w.jsx)("p",{style:0==e.seen?{backgroundColor:"lightgrey"}:{backgroundColor:"white"},onClick:function(){return W(e._id,e.type,e.senderId,e.chat_id)},children:e.text})}))]})]})}),Object(w.jsx)(p.a,{lg:4,md:4,sm:4,children:Object(w.jsxs)("div",{class:"dropdown",children:[Object(w.jsx)("img",{src:r.imageUrl,className:"userPhoto"}),Object(w.jsxs)("div",{class:"dropdown-content",children:[Object(w.jsx)("p",{className:"dropdown-item",onClick:function(){i.push("/myProfile")},children:"My Profile"}),Object(w.jsx)("p",{className:"dropdown-item",children:"My Chats"}),Object(w.jsx)("p",{className:"dropdown-item",onClick:function(){a(null);var e=localStorage.removeItem("refreshToken");K.a.isUndefined(e)&&i.push("/")},children:"Log Out"})]})]})})]})})]})})};var ne=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=(t[0],t[1],Object(n.useContext)(j)),c=(a.accessToken,a.userData);return Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)(ae,{}),K.a.isUndefined(c.lastKnownLocation)?Object(w.jsx)(W.a,{animation:"border"}):Object(w.jsx)($,{})]})},re=a(359),ce=(a(63),a.p+"static/media/pattern.e5ec4783.jpg"),se=a(361);var ie=function(e){var t=e.images;return Object(w.jsx)(se.a,{children:t.map((function(e){return Object(w.jsx)(se.a.Item,{children:Object(w.jsx)("img",{className:"d-block w-100",src:e.imageUrl,alt:"First slide",style:{borderRadius:"0px",width:"100%",height:"100%"}})})}))})};var oe=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(k.h)().id,i=Object(n.useContext)(j),u=i.accessToken,O=(i.userPoints,i.setUserPoints,Object(n.useState)(!1)),m=Object(d.a)(O,2),f=m[0],v=m[1],N=function(){return v(!0)};return Object(k.g)(),Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a){e.next=12;break}return e.prev=1,e.next=4,g.a.get("http://localhost:3000/api/v1/user"+"/".concat(s),{headers:{authorization:u}});case 4:t=e.sent,console.log(t.data),c(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),y(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[]),Object(w.jsx)(b.a,{fluid:!0,style:{background:"url(".concat(ce,")"),height:"100vh",backgroundSize:"cover"},children:K.a.isNull(a)?Object(w.jsx)(W.a,{animation:"border",role:"status"}):Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(ae,{})}),Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:4,md:12,sm:10,className:"aboutMe",children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{children:Object(w.jsx)(x.a,{className:"talk",children:"Razgovaraj"})}),Object(w.jsxs)(p.a,{children:[Object(w.jsxs)("div",{style:{float:"right"},children:[Object(w.jsx)(x.a,{style:{marginTop:"10px",marginRight:"10px",borderRadius:"0px",backgroundColor:"#F59391",border:"none"},children:"Like"}),Object(w.jsx)(x.a,{style:{marginTop:"10px",borderRadius:"0px",backgroundColor:"#DF314D",border:"none"},children:"Dislike"})]}),Object(w.jsx)("div",{style:{clear:"both"}})]})]}),Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)("img",{src:null===a||void 0===a?void 0:a.imageUrl,width:"50%",className:"myProfilePhoto"})})}),Object(w.jsx)(h.a,{style:{paddingLeft:"50px"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsxs)("h3",{className:"credentials",children:[a.firstName," ",a.lastName,",",a.age,", ",a.gender]}),Object(w.jsxs)("h5",{className:"credentials",style:{marginTop:"20px"},children:[a.city,",",a.zip]})]})}),Object(w.jsxs)(h.a,{style:{paddingLeft:"50px"},children:[Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsx)("h3",{className:"titleMe",children:"O meni"}),Object(w.jsx)("p",{className:"desc",children:Object(w.jsx)("p",{children:K.a.isUndefined(a.description)?"Nema opis.":a.description})})]}),Object(w.jsx)(p.a,{})]}),Object(w.jsxs)(h.a,{style:{paddingLeft:"50px"},children:[Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsx)("h3",{className:"titleMe",children:"Posao/Edukacija"}),Object(w.jsx)("p",{children:K.a.isUndefined(a.education)?"Nema dodanu edukaciju.":a.education}),Object(w.jsx)("p",{children:K.a.isUndefined(a.job)?"Nema dodan posao.":a.job})]}),Object(w.jsx)(p.a,{})]})]}),Object(w.jsxs)(p.a,{lg:7,md:7,sm:10,className:"nextMe",children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{lg:10,children:Object(w.jsx)("h3",{className:"titleMe",style:{marginTop:"30px",marginLeft:"20px"},children:"Galerija"})})}),Object(w.jsxs)(h.a,{style:{marginLeft:"10px",marginTop:"10px"},children:[K.a.isEmpty(a.gallery)?"Prazna galerija.":a.gallery.map((function(e){return Object(w.jsx)("img",{src:e.imageUrl,style:{width:"30%",height:"200px",backgroundSize:"cover",borderRadius:"0px"},onClick:N})})),Object(w.jsx)(re.a,{show:f,onHide:function(){return v(!1)},className:"slideShow",size:"xl",closeButton:!0,children:Object(w.jsx)(re.a.Body,{children:Object(w.jsx)(ie,{images:a.gallery})})})]}),Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{lg:10,children:[Object(w.jsx)("h3",{className:"titleMe",style:{marginTop:"30px",marginLeft:"20px",marginBottom:"20px"},children:"Moji interesi"}),K.a.isEmpty(a.interests)?"Nema interesa za prikaz.":a.interests.map((function(e){return Object(w.jsx)("li",{className:"myHobbies",children:e.interest})}))]})})]})]})]})})};var le=a(179),de=a(115);a(182);a(172);var je=function(e){var t=Object(n.useContext)(j),a=t.accessToken,r=(t.userData,t.userPoints,Object(n.useState)([])),c=Object(d.a)(r,2),s=c[0],i=c[1],u=Object(k.g)(),b=e.blocked;return Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3000/api/v1/userChats",{headers:{authorization:a}});case 3:t=e.sent,i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(w.jsx)("div",{style:{marginTop:"20px"},children:s.map((function(e){var t;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{src:e.imageUrl,className:"myProfilePhotoThumbNail"})," ",Object(w.jsxs)("span",(t={className:"thread",disabled:b},Object(S.a)(t,"className","nameUser"),Object(S.a)(t,"onClick",(function(){return t=e._id,void u.push("/chat/".concat(t));var t})),Object(S.a)(t,"children",[e.firstName,"  ",e.lastName]),t)),Object(w.jsx)("hr",{})]})}))})};var ue=function(){var e=Object(n.useContext)(j),t=e.userData,a=(e.chatId,e.accessToken),r=e.socket,c=(e.setChatId,Object(n.useState)([])),s=Object(d.a)(c,2),i=s[0],u=s[1],O=Object(n.useState)(null),m=Object(d.a)(O,2),v=m[0],N=m[1],C=Object(n.useState)(null),S=Object(d.a)(C,2),z=S[0],T=S[1],B=Object(n.useState)(z),P=Object(d.a)(B,2),R=P[0],D=P[1],L=Object(n.useState)(!1),U=Object(d.a)(L,2),I=U[0],E=U[1],M=Object(n.useState)(null),A=Object(d.a)(M,2),q=A[0],H=A[1],G=Object(n.useState)(null),Z=Object(d.a)(G,2),J=Z[0],V=Z[1],Y=Object(n.useState)(null),$=Object(d.a)(Y,2),Q=($[0],$[1]),X=window.cloudinary.createUploadWidget({cloudName:"dbfwwnhat",uploadPreset:"jydos0sa",folder:"users",name:"hey"},(function(e,t){"queues-end"==t.event&&(Q(t.info.files[0].uploadInfo.secure_url),se(t.info.files[0].uploadInfo.secure_url))}));function ee(){X.open()}var te=Object(n.useRef)(),ne=Object(k.h)().id;Object(n.useEffect)((function(){try{g.a.get("http://localhost:3000/api/v1/chat",{headers:{authorization:a,chat_id:ne}}).then((function(e){var a=e.data,n=a.user_1,r=a.user_2;n==t._id?T(r):T(n),u(e.data.messages),console.log(e.data),E(e.data.blockChat)})).catch((function(e){y(e)}))}catch(e){y(e)}}),[ne]),Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=z){e.next=2;break}return e.abrupt("return");case 2:if(!K.a.isNull(J)&&!K.a.isUndefined(J)&&z==R){e.next=14;break}return e.prev=3,e.next=6,g.a.get("http://localhost:3000/api/v1/user"+"/".concat(z),{headers:{authorization:a}});case 6:t=e.sent,V(t.data),D(z),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),y(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),[z]),Object(n.useEffect)((function(){null!=v&&u([].concat(Object(_.a)(i),[v]))}),[v]),Object(n.useEffect)((function(){null!=r&&(r.on("getUsers",(function(e){})),r.on("getMessage",(function(e){Array.from(i);var t={message:e.text,date:Date.now(),senderID:e.senderId,imageUrl:e.imageUrl};N(t)})))}),[r]);var re=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("http://localhost:3000/api/v1/blockChat",{chat_id:t,block:!0},{headers:{authorization:a}});case 3:n=e.sent,console.log(n.data),E(n.data.blocked),H(n.data.userWhoBlocked),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.emit("sendMessage",{senderId:t._id,receiverId:z,text:"m",chatId:ne,imageUrl:n}),e.prev=1,e.next=4,g.a.patch("http://localhost:3000/api/v1/chat",{message:"m",imageUrl:n,chat_id:ne},{headers:{authorization:a,chat_id:ne}});case 4:e.sent,u([].concat(Object(_.a)(i),[{message:"m",imageUrl:n}])),delete te.current.value,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),y(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te.current.value,r.emit("sendMessage",{senderId:t._id,receiverId:z,text:n,chatId:ne}),console.log({senderId:t._id,receiverId:z,text:n,chatId:ne}),e.prev=3,e.next=6,g.a.patch("http://localhost:3000/api/v1/chat",{message:n,chat_id:ne},{headers:{authorization:a,chat_id:ne}});case 6:e.sent,u([].concat(Object(_.a)(i),[{message:n}])),delete te.current.value,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),y(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return K.a.isNull(t)||K.a.isUndefined(t)||K.a.isNull(J)||K.a.isUndefined(J)?Object(w.jsx)(W.a,{}):Object(w.jsxs)(b.a,{fluid:!0,style:{background:"url(".concat(ce,")"),backgroundRepeat:"repeat-x",height:"100vh",backgroundSize:"cover"},children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(ae,{})}),Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:4,md:12,sm:10,className:"conversations",children:[Object(w.jsx)("h2",{className:"conversation-title",children:"Razgovori"}),Object(w.jsx)(je,{blocked:I})]}),Object(w.jsxs)(p.a,{lg:7,md:7,sm:10,className:"chatBox",children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{className:"conversation-title",style:{fontSize:"1rem"},children:null===J?null:Object(w.jsxs)("h2",{className:"headline",children:[J.firstName," ",J.lastName]})}),Object(w.jsx)(p.a,{children:Object(w.jsx)(x.a,{id:"blockButton",onClick:function(){return re(ne)},children:"Blokiraj"})})]}),Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{children:null===i||void 0===i?void 0:i.map((function(e,a){if(0!=a)return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(p.a,{children:[K.a.isUndefined(J)||K.a.isNull(J)?Object(w.jsx)(W.a,{animation:"border"}):e.senderID!=t._id&&void 0!=e.senderID?Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{children:[Object(w.jsx)("img",{src:J.imageUrl,className:"userPhotoImage"}),Object(w.jsx)("br",{})]}),Object(w.jsx)("div",{style:{clear:"both"}})]}):null,Object(w.jsx)(p.a,{style:{float:"right",display:"inline"},children:void 0!=e.imageUrl?Object(w.jsx)("img",{src:e.imageUrl,className:"chatImg"}):Object(w.jsxs)("span",{className:e.senderID==t._id||void 0===e.senderID?"msg":"fmsg",children:[e.message,Object(w.jsx)("span",{className:"timeMessageFriend",children:"8:23"})]})})]},a),Object(w.jsx)("div",{className:"clear"})]})}))}),Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:1==I?Object(w.jsxs)(f.a,{variant:"danger",style:{backgroundColor:"#DF314D",color:"white",marignTop:"50px",width:"30%",borderRadius:"50px"},children:[q==t._id?t.firstName+" "+t.lastName+" ":J.firstName+J.lastName+" ","je blokirala razgovor"]}):null})})]}),Object(w.jsxs)(h.a,{style:{backgroundColor:"#578BB8",marginTop:"40px"},children:[Object(w.jsx)(p.a,{lg:2,children:Object(w.jsx)(x.a,{className:"uploadPhotoButton",onClick:ee,children:Object(w.jsx)(F.c,{})})}),Object(w.jsxs)(p.a,{lg:10,children:[Object(w.jsx)(le.a,{ref:te,className:"messageBox","aria-describedby":"basic-addon2"}),Object(w.jsx)(x.a,{onClick:ie,disabled:I,className:"sendButton",children:"Send"})]})]})]})]})]})},be=a(69);var he=function(e){var t=e.name,a=e.index;return Object(w.jsx)(x.a,{className:"categoryBtn",style:{backgroundColor:be.a[a],border:"none",marginTop:"10px"},children:t})};var pe=function(e){var t=e.hobbies,a=Object(n.useContext)(j).accessToken,r=Object(n.useState)(t.map((function(e){return{category:e.category,interest:e.interest}}))),c=Object(d.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),O=(b[0],b[1],Object(n.useState)([])),m=Object(d.a)(O,2),v=m[0],k=m[1],N=Object(n.useState)(null),C=Object(d.a)(N,2),S=C[0],z=C[1],T=Object(n.useRef)(null),B=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log({interests:s}),e.next=4,g.a.patch("http://localhost:3000/api/v1/user",{interests:s.map((function(e){return{category:e.category,interest:e.interest}}))},{headers:{authorization:a}});case 4:t=e.sent,console.log(t.data),i(t.data.data.interests),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{lg:12,style:{marginLeft:"-20px"},children:s.map((function(e,t){return Object(w.jsx)("button",{className:"myHobbies",onClick:function(){return a=t,n=e.category,r=e.interest,i(s.filter((function(e,t){return t!=a}))),void(S==n&&k([].concat(Object(_.a)(v),[r])));var a,n,r},children:e.interest})}))})}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{variant:"success",onClick:function(){return B()},children:"Spremi promjene"}),0==v.length?Object(w.jsx)(f.a,{variant:"danger",children:"Nema vi\u0161e interesa za ovu kategoriju"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("select",{ref:T,className:"select-categories",children:v.map((function(e){return Object(w.jsx)("option",{children:e})}))}),Object(w.jsx)(x.a,{variant:"primary",onClick:function(){return e=T.current.value,i([].concat(Object(_.a)(s),[{category:S,interest:e}])),void k(Object(_.a)(v.filter((function(t){return t!=e}))));var e},style:{backgroundColor:"#578BB8",border:"none",borderRadius:"0",padding:"10px",width:"20%"},children:"Add"})]})]}),Object(w.jsx)(h.a,{children:Object.keys(be.b).map((function(e,t){return Object(w.jsx)(p.a,{onClick:function(){!function(e,t){var a=[];z(t),e.forEach((function(e){var t=!1;s.forEach((function(a){a.interest==e&&(t=!0)})),t||a.push(e)})),console.log(a),k(a)}(be.b[e],e)},children:Object(w.jsx)(he,{name:e,index:t})})}))})]})};a(350);var xe=function(){var e=Object(n.useContext)(j),t=e.userData,a=e.accessToken,r=e.setUserData,c=Object(n.useState)(t.gallery),s=Object(d.a)(c,2),i=s[0],u=s[1],b=Object(n.useState)(!1),O=Object(d.a)(b,2),m=(O[0],O[1],window.cloudinary.createUploadWidget({cloudName:"dbfwwnhat",uploadPreset:"jydos0sa",folder:"users",name:"hey"},(function(e,t){"queues-end"==t.event&&(console.log(t),u([].concat(Object(_.a)(i),[{imageUrl:t.info.files[0].uploadInfo.secure_url}])))})));function f(){m.open()}var v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(i),t={gallery:i.map((function(e){return{imageUrl:e.imageUrl}}))},console.log(t),e.next=6,g.a.patch("http://localhost:3000/api/v1/user",t,{headers:{authorization:a}});case 6:n=e.sent,console.log(n.data),r(n.data.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),y(e.t0);case 14:window.location.reload();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{}),Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{style:{display:"inline-block"},lg:12,children:i.map((function(e,t){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("img",{src:e.imageUrl,style:{borderRadius:"0px",width:"30%",backgroundSize:"cover",padding:"5px"},onClick:function(){return function(e){var t=i.filter((function(t,a){return a!=e}));u(t)}(t)}})})}))})}),Object(w.jsx)(h.a,{style:{marginTop:"10px"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(x.a,{variant:"primary",onClick:function(){return f()},style:{backgroundColor:"#578BB8",border:"none",borderRadius:"0",padding:"10px",marginRight:"10px"},children:"Dodaj novu sliku"}),Object(w.jsx)(x.a,{variant:"success",onClick:function(){return v()},style:{border:"none",borderRadius:"0",padding:"10px",marginRight:"10px"},children:"Spremi promjene"})]})})]})};var Oe=function(){var e,t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=Object(n.useContext)(j).accessToken,c=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("http://localhost:3000/api/v1/user/changePassword",{oldPassword:t.current.value,newPassword:a.current.value},{headers:{authorization:r}});case 3:n=e.sent,console.log(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:window.location.reload();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)(le.a,{placeholder:"Stara lozinka",type:"password",name:"password",ref:t,"aria-label":"Stara lozinka","aria-describedby":"basic-addon1"}),Object(w.jsx)("br",{}),Object(w.jsx)(le.a,(e={placeholder:"Nova lozinka",type:"password",name:"password2",ref:a},Object(S.a)(e,"ref",t),Object(S.a)(e,"aria-label","Nova lozinka"),Object(S.a)(e,"aria-describedby","basic-addon1"),e)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(x.a,{variant:"primary",onClick:function(){return c()},children:"Promijeni lozinku"})]})};var me=function(){var e=Object(n.useContext)(j),t=e.userData,a=e.accessToken,r=e.setUserData,c=Object(n.useRef)(t.description),s=Object(n.useRef)(t.education),i=Object(n.useRef)(t.job),u=(Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useState)(t.imageUrl)),O=Object(d.a)(u,2),m=O[0],f=O[1],v=Object(n.useState)(!1),k=Object(d.a)(v,2),N=(k[0],k[1],Object(n.useState)(!0)),C=Object(d.a)(N,2),S=(C[0],C[1],Object(n.useState)(!0)),z=Object(d.a)(S,2),T=(z[0],z[1],Object(n.useState)(!0)),B=Object(d.a)(T,2),P=(B[0],B[1],Object(n.useState)(!1)),R=Object(d.a)(P,2),D=(R[0],R[1],Object(n.useState)(!0)),L=Object(d.a)(D,2),U=(L[0],L[1],Object(n.useState)(!1)),I=Object(d.a)(U,2),E=(I[0],I[1],Object(n.useState)(!1)),M=Object(d.a)(E,2),A=(M[0],M[1],Object(n.useState)(t.interests)),_=Object(d.a)(A,2),q=_[0],H=(_[1],Object(n.useState)("")),K=Object(d.a)(H,2),G=(K[0],K[1],Object(n.useState)([])),W=Object(d.a)(G,2),Z=(W[0],W[1],Object(n.useState)(null)),J=Object(d.a)(Z,2),V=(J[0],J[1],Object(n.useState)("")),Y=Object(d.a)(V,2),$=(Y[0],Y[1],Object(n.useState)(!1)),Q=Object(d.a)($,2),X=(Q[0],Q[1],Object(n.useState)("Choose hobbies")),ee=Object(d.a)(X,2),te=(ee[0],ee[1],Object(n.useRef)(null),function(){return ve(!1)}),ne=function(){return Ne(!1)},se=function(){return Te(!1)},oe=function(){return De(!1)},le=function(){return Ee(!1)},de=function(){return _e(!0)},je=window.cloudinary.createUploadWidget({cloudName:"dbfwwnhat",uploadPreset:"jydos0sa",folder:"users",name:"hey"},(function(e,t){"queues-end"==t.event&&(console.log(t),f(t.info.files[0].uploadInfo.secure_url),he(t.info.files[0].uploadInfo.secure_url))})),ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("http://localhost:3000/api/v1/user",{education:s.current.value,job:i.current.value},{headers:{authorization:a}});case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("http://localhost:3000/api/v1/user",{description:c.current.value},{headers:{authorization:a}});case 3:t=e.sent,console.log(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:window.location.reload();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("http://localhost:3000/api/v1/user",{imageUrl:t},{headers:{authorization:a}});case 3:n=e.sent,console.log(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log(q)}),[q]);var me=Object(n.useState)(!1),ge=Object(d.a)(me,2),fe=ge[0],ve=ge[1],ye=Object(n.useState)(!1),ke=Object(d.a)(ye,2),we=ke[0],Ne=ke[1],Ce=Object(n.useState)(!1),Se=Object(d.a)(Ce,2),ze=Se[0],Te=Se[1],Be=Object(n.useState)(!1),Pe=Object(d.a)(Be,2),Re=Pe[0],De=Pe[1],Le=Object(n.useState)(!1),Ue=Object(d.a)(Le,2),Ie=Ue[0],Ee=Ue[1],Fe=Object(n.useState)(!1),Me=Object(d.a)(Fe,2),Ae=Me[0],_e=Me[1],qe=Object(n.useState)(!1),He=Object(d.a)(qe,2);return He[0],He[1],Object(w.jsxs)(b.a,{fluid:!0,style:{background:"url(".concat(ce,")"),height:"100vh",backgroundSize:"cover"},children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(ae,{})}),Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:4,md:12,sm:10,className:"aboutMe",children:[Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("img",{src:m,width:"50%",className:"myProfilePhoto"}),Object(w.jsx)(x.a,{className:"changeProfilePhotoButton",onClick:function(){je.open()},children:Object(w.jsx)(F.c,{})})]})}),Object(w.jsx)(h.a,{style:{paddingLeft:"50px"},children:Object(w.jsxs)(p.a,{children:[Object(w.jsxs)("h3",{className:"credentials",children:[t.firstName," ",t.lastName,",",t.age,", ",t.gender]}),Object(w.jsxs)("h5",{className:"credentials",style:{marginTop:"20px"},children:[t.city,",",t.zip]})]})}),Object(w.jsxs)(h.a,{style:{paddingLeft:"50px"},children:[Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsx)("h3",{className:"titleMe",children:"O meni"}),Object(w.jsx)("p",{className:"desc",children:t.description})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(x.a,{className:"editButton",style:{marginTop:"30px"},onClick:function(){return ve(!0)},children:"Uredi"}),Object(w.jsxs)(re.a,{show:fe,onHide:te,children:[Object(w.jsx)(re.a.Header,{closeButton:!0,children:Object(w.jsx)(re.a.Title,{children:"Uredi opis"})}),Object(w.jsx)(re.a.Body,{children:Object(w.jsx)("textarea",{placeholder:"Personal Description",className:"textarea",maxlength:"150",ref:c,children:t.description})}),Object(w.jsxs)(re.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:te,children:"Zatvori"}),Object(w.jsx)(x.a,{variant:"primary",onClick:be,style:{backgroundColor:"#578BB8",border:"none"},children:"Spremi promjene"})]})]})]})]}),Object(w.jsxs)(h.a,{style:{paddingLeft:"50px"},children:[Object(w.jsxs)(p.a,{lg:8,children:[Object(w.jsx)("h3",{className:"titleMe",children:"Posao/Edukacija"}),Object(w.jsx)("p",{children:t.education}),Object(w.jsx)("p",{children:t.job})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(x.a,{className:"editButton",style:{marginTop:"30px"},onClick:function(){return Ne(!0)},children:"Uredi"}),Object(w.jsxs)(re.a,{show:we,onHide:ne,children:[Object(w.jsx)(re.a.Header,{closeButton:!0,children:Object(w.jsx)(re.a.Title,{children:"Uredi Posao/Edukacija"})}),Object(w.jsxs)(re.a.Body,{children:[Object(w.jsx)("h5",{children:"Edukacija"}),Object(w.jsx)("textarea",{placeholder:"Add Education",className:"textarea",maxLength:100,ref:s,children:t.education}),Object(w.jsx)("h5",{children:"Posao"}),Object(w.jsx)("textarea",{placeholder:"Add Job",className:"textarea",maxLength:100,ref:i,children:t.job})]}),Object(w.jsxs)(re.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:ne,children:"Zatvori"}),Object(w.jsx)(x.a,{variant:"primary",onClick:ue,style:{backgroundColor:"#578BB8",border:"none"},children:"Spremi promjene"})]})]})]})]}),Object(w.jsxs)(h.a,{style:{paddingLeft:"50px"},children:[Object(w.jsx)(p.a,{children:Object(w.jsx)(x.a,{style:{backgroundColor:"#578BB8",border:"none",borderRadius:"0",marginBottom:"20px"},onClick:function(){return Te(!0)},children:"Promijeni lozinku"})}),Object(w.jsxs)(re.a,{show:ze,onHide:se,children:[Object(w.jsx)(re.a.Header,{closeButton:!0,children:Object(w.jsx)(re.a.Title,{children:"Promijeni lozinku"})}),Object(w.jsx)(re.a.Body,{children:Object(w.jsx)(Oe,{})}),Object(w.jsxs)(re.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:se,children:"Zatvori"}),Object(w.jsx)(x.a,{variant:"primary",onClick:se,style:{backgroundColor:"#578BB8",border:"none"},children:"Spremi promjene"})]})]})]})]}),Object(w.jsxs)(p.a,{lg:7,md:7,sm:10,className:"nextMe",children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{lg:10,children:Object(w.jsx)("h3",{className:"titleMe",style:{marginTop:"30px",marginLeft:"20px"},children:"Galerija"})}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(x.a,{className:"editButton",style:{marginTop:"20px"},onClick:function(){return De(!0)},children:"Uredi"}),Object(w.jsxs)(re.a,{show:Re,onHide:oe,size:"xl",children:[Object(w.jsx)(re.a.Header,{closeButton:!0,children:Object(w.jsx)(re.a.Title,{children:"Uredi Galeriju"})}),Object(w.jsx)(re.a.Body,{children:Object(w.jsx)(xe,{})}),Object(w.jsxs)(re.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:oe,children:"Zatvori"}),Object(w.jsx)(x.a,{variant:"primary",onClick:oe,style:{backgroundColor:"#578BB8",border:"none"},children:"Spremi promjene"})]})]})]})]}),Object(w.jsxs)(h.a,{style:{marginLeft:"10px",marginTop:"10px"},children:[t.gallery.map((function(e){return Object(w.jsx)("img",{src:e.imageUrl,style:{width:"30%",height:"200px",backgroundSize:"cover",borderRadius:"0px"},onClick:de})})),Object(w.jsx)(re.a,{show:Ae,onHide:function(){return _e(!1)},className:"slideShow",size:"xl",closeButton:!0,children:Object(w.jsx)(re.a.Body,{children:Object(w.jsx)(ie,{images:t.gallery})})})]}),Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:10,children:[Object(w.jsx)("h3",{className:"titleMe",style:{marginTop:"30px",marginLeft:"20px",marginBottom:"20px"},children:"Moji interesi"}),t.interests.map((function(e){return Object(w.jsx)("li",{className:"myHobbies",children:e.interest})}))]}),Object(w.jsxs)(p.a,{lg:2,children:[Object(w.jsx)(x.a,{className:"editButton",style:{marginTop:"50px"},onClick:function(){return Ee(!0)},children:"Uredi"}),Object(w.jsxs)(re.a,{show:Ie,onHide:le,children:[Object(w.jsx)(re.a.Header,{closeButton:!0,children:Object(w.jsx)(re.a.Title,{children:"Uredi interese"})}),Object(w.jsx)(re.a.Body,{children:Object(w.jsx)(pe,{hobbies:t.interests})}),Object(w.jsxs)(re.a.Footer,{children:[Object(w.jsx)(x.a,{variant:"secondary",onClick:le,children:"Zatvori"}),Object(w.jsx)(x.a,{variant:"primary",onClick:be,style:{backgroundColor:"#578BB8",border:"none"},children:"Spremi promjene"})]})]})]})]})]})]})]})},ge=a(358);var fe=function(){var e=Object(n.useRef)(null),t=Object(n.useContext)(j).accessToken,a=Object(k.g)(),r=function(){var e=Object(l.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,e.next=4,g.a.post("http://localhost:3000/api/v1/user/forgotPassword",{email:n},{headers:{authorization:t}});case 4:r=e.sent,console.log(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(e.t0);case 11:a.push("/");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{style:{width:"50%",margin:"150px auto"},children:[Object(w.jsx)("h2",{children:"Enter your Email"}),Object(w.jsxs)(ge.a,{className:"mb-3",children:[Object(w.jsx)(le.a,{placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"basic-addon2",type:"email",name:"email",ref:e}),Object(w.jsx)(x.a,{variant:"outline-secondary",id:"button-addon2",onClick:function(){return r(e.current.value)},children:"Send"})]})]})};var ve=function(){return Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)(M,{}),Object(w.jsx)(B,{}),Object(w.jsx)(R,{}),Object(w.jsx)(I,{}),Object(w.jsx)(E,{})]})};var ye=function(){var e=Object(n.useContext)(j),t=(e.accessToken,e.userData),a=e.socket;return e.refreshToken,Object(w.jsx)(A.a,{children:Object(w.jsxs)(k.d,{children:[Object(w.jsx)(k.b,{exact:!0,path:"/",children:Object(w.jsx)(ve,{})}),Object(w.jsx)(k.b,{path:"/login",children:Object(w.jsx)(N,{})}),Object(w.jsx)(k.b,{path:"/register",children:Object(w.jsx)(T,{})}),Object(w.jsx)(k.b,{path:"/userChats",children:Object(w.jsx)(ue,{})}),Object(w.jsx)(k.b,{exact:!0,path:"/completeSetup",component:G}),Object(w.jsx)(k.b,{exact:!0,path:"/forgotPassword",component:fe}),Object(w.jsx)(k.b,{exact:!0,path:"/myProfile",children:K.a.isNull(t)||K.a.isUndefined(t)||K.a.isNull(a)?Object(w.jsx)(W.a,{animation:"border"}):Object(w.jsx)(me,{})}),K.a.isNull(localStorage.getItem("refreshToken"))?Object(w.jsx)(k.a,{to:"/"}):Object(w.jsx)("div",{children:K.a.isNull(t)||K.a.isUndefined(t)||K.a.isNull(a)?Object(w.jsx)(W.a,{animation:"border"}):Object(w.jsxs)("div",{children:[Object(w.jsx)(k.b,{exact:!0,path:"/main",children:Object(w.jsx)(ne,{})}),Object(w.jsx)(k.b,{exact:!0,path:"/user/:id",component:oe}),Object(w.jsx)(k.b,{exact:!0,path:"/chat/:id",children:Object(w.jsx)(ue,{})})]})})]})})};var ke=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(localStorage.getItem("refreshToken")),s=Object(d.a)(c,2),i=s[0],u=s[1],b=Object(n.useState)(null),h=Object(d.a)(b,2),p=h[0],x=h[1],O=Object(n.useState)(null),m=Object(d.a)(O,2),f=m[0],v=m[1],N=Object(n.useState)(null),C=Object(d.a)(N,2),S=C[0],z=C[1],T=Object(n.useState)(null),B=Object(d.a)(T,2),P=B[0],R=B[1],D=Object(n.useState)(!1),L=Object(d.a)(D,2),U=L[0],I=L[1],E=j.Provider;Object(k.g)(),Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("refreshToken")){e.next=4;break}return R(Object(de.io)("ws://localhost:8900")),e.next=4,M();case 4:case"end":return e.stop()}}),e)}))),[U]),Object(n.useEffect)((function(){K.a.isNull(p)||K.a.isUndefined(p)||P.emit("addUser",p._id)}),[p]);var F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:a,e.prev=1,e.next=4,g.a.get("http://localhost:3000/api/v1/user",{headers:{authorization:t}});case 4:n=e.sent,x(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i){e.next=14;break}return e.prev=1,e.next=4,g.a.get("http://localhost:3000/api/v1/getAccess",{headers:{authorization:i}});case 4:return t=e.sent,a=t.data,n=a.data,a.message,a.length,e.next=8,r(n);case 8:F(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i){e.next=7;break}return e.t0=setTimeout,e.next=4,M;case 4:e.t1=e.sent,e.t2=54e6,(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)}))),[a]),console.log(P),Object(w.jsx)("div",{children:Object(w.jsx)(E,{value:{accessToken:a,setAccessToken:r,refreshToken:i,setRefreshToken:u,userData:p,setUserData:x,chatId:S,setChatId:z,socket:P,loggedIn:U,setLoggedIn:I,userPoints:f,setUserPoints:v},children:Object(w.jsx)(ye,{})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,362)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(ke,{})}),document.getElementById("root")),we()},63:function(e,t,a){},69:function(e){e.exports=JSON.parse('{"b":{"Entertainment":["TV Series","Games","Movies","Board Games"],"Health/Fitness":["Workout","Dieting"],"Food":["Cooking","Eating Out","Drinks","Brewing Beer"],"Reading/Learning":["Programming","Science","Reading"],"Outdoor Activities":["Hiking","Sports","Football","Basketball","Swimming","Camping"]},"a":["#FF1493","#FF8C00","#DC143C","#1E90FF","#006400"]}')}},[[351,1,2]]]);
//# sourceMappingURL=main.d52007a5.chunk.js.map