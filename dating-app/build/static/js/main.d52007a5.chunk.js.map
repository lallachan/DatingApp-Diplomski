{"version":3,"sources":["components/contexts/myContext.js","images/CoverPhoto.jpeg","images/banner.jpg","components/functions/Functions.js","components/LogIn.js","images/logo_transparent.svg","components/EmailValidation.js","components/Register.js","components/LandingRegister.js","images/World_Map.png","components/MapPage.js","images/girl.jpeg","images/boy.jpeg","images/star.svg","images/boy2.jpeg","components/UserReviews.js","components/Footer.js","components/LandingPage.js","images/default-photo.png","components/CompleteSetup.js","components/Cards.js","components/Filters.js","components/Map.js","components/Timer.js","images/heart.png","images/Notifications.png","images/bell.svg","components/Header.js","components/Main.js","images/pattern.jpg","components/Slideshow.js","components/UserProfile.js","components/chat/Conversation.js","components/chat/ChatThreads.js","components/chat/Chat.js","components/HobbiesButton.js","components/Hobbies.js","components/Gallery.js","components/ChangePassword.js","components/MyProfile.js","components/SendEmailForgotPass.js","components/Page.js","components/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["myContext","React","createContext","errorHandler","error","response","console","log","data","status","headers","undefined","message","request","alert","LogIn","useContext","setAccessToken","accessToken","setRefreshToken","refreshToken","setUserData","userData","setLoggedIn","refreshAccessToken","useState","setError","LogInSchema","Yup","shape","email","required","password","min","max","getUserData","access","a","axios","get","process","authorization","res","completedSetup","history","push","useHistory","className","Row","initialValues","validationSchema","onSubmit","values","post","length","localStorage","setItem","refresh","err","errors","touched","htmlFor","style","color","fontSize","name","type","Alert","variant","textAlign","marginTop","Button","size","width","padding","backgroundColor","border","marginBottom","href","onClick","EmailValidation","src","Register","RegisterShema","firstName","lastName","matches","confirmPassword","oneOf","gender","day","month","year","city","zip","days","months","years","i","loadEmailValidation","setLoadEmailValidation","dob","indexOf","id","justifyContent","margin","Col","lg","md","sm","background","fontWeight","marginLeft","display","placeholder","pattern","as","value","borderRadius","map","data-dropup-auto","role","aria-labelledby","LandingRegister","Container","fluid","MapPage","height","backgroundSize","backgroundPosition","UserReviews","girl","class","boy","boy2","Footer","LandingPage","showScroll","setShowScroll","window","addEventListener","pageYOffset","cover","logo","textDecoration","scrollTo","top","behavior","CompleteSetup","counter","setCounter","ref1","useRef","ref2","ref3","cloudinary","image","setImage","imageUrl","setImageUrl","sexes","descRef","widget","createUploadWidget","cloudName","uploadPreset","folder","result","event","info","files","uploadInfo","secure_url","showWidget","open","loadNewWindow","setupDesc","current","patch","description","setupImage","setupSexualOrientation","ele","document","getElementsByName","checked","filter","radio","sexualOrientation","Number","UploadImage","Fragment","marginRight","AddDescription","Form","Control","ref","loadMain","SexualOrientation","Cards","props","users","setViewport","userPoints","setUserPoints","likeUser","user","_id","latitude","lastKnownLocation","coordinates","longitude","zoom","disabled","liked","includes","age","_","isNull","interests","interest","Filters","setMarkers","rangeRef","minAgeRef","maxAgeRef","mapHobbies","setMapHobbies","radioVal","setRadioVal","filterUsers","obj","range","isEmpty","category","Object","keys","handleRChange","e","target","r","paddingLeft","onChange","for","interst","handleChange","Map","userImage","radius","viewport","usersMarkers","setUsersMarkers","getUsersInRadius","useEffect","mapboxApiAccessToken","onViewportChange","nextViewport","mapStyle","position","navigator","geolocation","getCurrentPosition","coords","float","zIndex","clear","geometry","source","paint","offsetLeft","offsetRight","Timer","date","fetchHearts","timer","setTimer","setCountdown","futureDate","moment","today","clockDuration","duration","diff","minutes","sec","seconds","interval","setInterval","clearInterval","Date","now","key","toLowerCase","Header","socket","lifes","setLifes","timeToFill","setTimeToFill","notifications","setNotifications","arrivalNotification","setArrivalNotification","chatNotification","setChatNotifications","on","nextHeartAt","chat_notifications","setSeenNotification","n_id","senderId","chat_id","txt","goToPage","heart","n","seen","text","removeItem","isUndefined","Main","Spinner","animation","Slideshow","images","Carousel","img","Item","alt","UserProfile","friendData","setFriendData","useParams","showSlideShow","setShowSlideShow","handleShowSlideShow","education","job","gallery","Modal","show","onHide","closeButton","Body","Conversation","ChatThreads","threads","setThreads","blocked","t","Chat","chatId","setChatId","chatMessages","setChatMessages","arriveMessage","setArriveMessage","reciverID","setReciverID","oldReciverID","setOldReciverID","setBlocked","userWhoBlocked","setUserWhoBlocked","sendImage","textArea","then","user_1","user_2","messages","blockChat","catch","Array","from","messObj","senderID","rejectUser","block","imgUrl","emit","receiverId","handleSubmit","messageM","backgroundRepeat","m","marignTop","FormControl","aria-describedby","HobbiesButton","index","hobbieColor","Hobbies","old","hobbies","setHobbies","selectValues","setSelectValues","activeCategory","setActiveCategory","selectValue","saveData","location","reload","hobbie","indx","el","v","hobbiesJSON","arr","forEach","element","isIn","setSelect","Gallery","galleryPhotos","setGalleryPhotos","widget2","showWidget2","saveGallery","deleteImage","ChangePassword","pass1","pass2","changePassword","oldPassword","newPassword","aria-label","MyProfile","eduRef","jobRef","handleClose","setShow","handleCloseEduJob","setShowEduJob","handleClosePass","setShowPassword","handleCloseGallery","setShowGallery","handleCloseHobbies","setShowHobbies","saveImage","saveEduJobData","showEduJob","showPassword","showGallery","showHobbies","Title","maxlength","maxLength","SendEmailForgotPass","sendToEmail","InputGroup","Page","Routes","exact","path","component","getItem","to","App","setSocket","loggedIn","Provider","io","getAcessToken","setTimeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d52007a5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst myContext = React.createContext()\r\nexport default myContext","export default __webpack_public_path__ + \"static/media/CoverPhoto.eab8d842.jpeg\";","export default __webpack_public_path__ + \"static/media/banner.4e6cc44d.jpg\";","\r\nexport const errorHandler = (error) => {\r\n\r\n    if (error.response) {\r\n        // Request made and server responded\r\n        \r\n        console.log(error.response.data);\r\n        \r\n        console.log(error.response.status);\r\n       \r\n        console.log(error.response.headers);\r\n        \r\n        if(error.response.data.message !==undefined){\r\n          return error.response.data.message\r\n        }\r\n    \r\n\r\n       \r\n      } else if (error.request) {\r\n        // The request was made but no response was received\r\n       \r\n        console.log(error.request);\r\n        return error.request\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        \r\n        console.log('Error', error.message);\r\n        alert(error.message)\r\n        return error.message\r\n       \r\n      }\r\n}\r\n\r\n\r\nexport const getSexOr = (sex) => {\r\n  if (sex == 0) {\r\n    return \"males\";\r\n  } else if (sex == 1) {\r\n    return \"females\";\r\n  } else if (sex == 2) {\r\n    return \"both\";\r\n  } else {\r\n    return \"\";\r\n  }\r\n};\r\n\r\n","import React, { useContext, useState } from \"react\";\r\nimport img from \"../images/banner.jpg\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  FormControl,\r\n  FormGroup,\r\n  FormLabel,\r\n  Row,\r\n} from \"react-bootstrap\";\r\nimport * as Yup from \"yup\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction LogIn() {\r\n  const {\r\n    accessToken,\r\n    setAccessToken,\r\n    refreshToken,\r\n    setRefreshToken,\r\n    userData,\r\n    setUserData,\r\n    refreshAccessToken,\r\n    setLoggedIn,\r\n  } = useContext(myContext);\r\n\r\n  const [error, setError] = useState(null);\r\n\r\n  const LogInSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n      .email(\"Invalid email\")\r\n      .required(\"Email adresa je obavezna.\"),\r\n    password: Yup.string().min(6).max(20).required(\"Lozinka je obavezna.\"),\r\n  });\r\n\r\n  const getUserData = async (access) => {\r\n    try {\r\n      const res = await axios.get(process.env.REACT_APP_GET_USER_DATA, {\r\n        headers: {\r\n          authorization: access,\r\n        },\r\n      });\r\n      console.log(res.data);\r\n      setUserData(res.data);\r\n      if (res.data.completedSetup == true) {\r\n        history.push(\"/main\");\r\n      } else {\r\n        history.push(\"/completeSetup\");\r\n      }\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div\r\n      // style={{\r\n      //   background: `url(${img})`,\r\n      //   height: \"100vh\",\r\n      //   backgroundSize: \"cover\",\r\n      //   backgroundPosition: \"center\",\r\n      // }}\r\n      className=\"page-holder bg-cover\"\r\n    >\r\n      <Row>\r\n        <Formik\r\n          initialValues={{\r\n            email: \"\",\r\n            password: \"\",\r\n          }}\r\n          validationSchema={LogInSchema}\r\n          onSubmit={async (values) => {\r\n            try {\r\n              const res = await axios.post(process.env.REACT_APP_LOGIN, values);\r\n              const { data, message, length } = res.data;\r\n              localStorage.setItem(\"refreshToken\", data.refresh);\r\n\r\n              setRefreshToken(data.refresh);\r\n              setAccessToken(data.access);\r\n              getUserData(data.access);\r\n              setLoggedIn(true);\r\n            } catch (error) {\r\n              const err = errorHandler(error);\r\n              console.log(err);\r\n              setError(err);\r\n\r\n              //TODO FIX ERROR AND DISPLAY THEM ON FRONT\r\n            }\r\n          }}\r\n        >\r\n          {({ errors, touched }) => (\r\n            <Form>\r\n              <label\r\n                htmlFor=\"email\"\r\n                style={{ color: \"white\", fontSize: \"20px\" }}\r\n              >\r\n                Email\r\n              </label>\r\n              <Field\r\n                name=\"email\"\r\n                type=\"email\"\r\n                className=\"form-control form-group\"\r\n              />\r\n              {errors.email && touched.email ? (\r\n                <Alert variant=\"warning\">{errors.email}</Alert>\r\n              ) : null}\r\n              <label\r\n                htmlFor=\"password\"\r\n                style={{ color: \"white\", fontSize: \"20px\" }}\r\n              >\r\n                Lozinka\r\n              </label>\r\n              <Field\r\n                name=\"password\"\r\n                type=\"password\"\r\n                className=\"form-control form-group\"\r\n              />\r\n              {errors.password && touched.password ? (\r\n                <Alert variant=\"warning\">{errors.password}</Alert>\r\n              ) : null}\r\n\r\n              <div style={{ textAlign: \"center\", marginTop: \"30px\" }}>\r\n                <Button\r\n                  type=\"submit\"\r\n                 \r\n                  size=\"md\"\r\n                  style={{ width: \"50%\", padding: \"10px\",backgroundColor:\"#578BB8\",border:\"none\" }}\r\n                >\r\n                  Log In\r\n                </Button>\r\n              </div>\r\n\r\n             \r\n              {error != null ? <Alert variant=\"danger\">{error}</Alert> : null}\r\n              <div style={{ marginTop: \"20px\", textAlign: \"center\",marginBottom:\"10px\" }}>\r\n                <a\r\n                  href=\"#\"\r\n                  style={{ color: \"black\" }}\r\n                  onClick={() => history.push(\"/forgotPassword\")}\r\n                >\r\n                  Forgot Password?\r\n                </a>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","export default __webpack_public_path__ + \"static/media/logo_transparent.47e46646.svg\";","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom'\r\nimport \"./EmailValidation.css\"\r\n\r\nfunction EmailValidation() {\r\n\r\n    const history = useHistory()\r\n\r\n    return (\r\n        <>\r\n        <div className=\"emailVal\">\r\n            Poslali smo vam email na vau E-mail adresu.\r\n            Please validate your Email.\r\n            <img\r\n            width=\"50%\"\r\n            style={{padding:\"20px\"}} \r\n            src=\"https://www.kindpng.com/picc/m/285-2852276_email-id-verification-reminder-plugin-verify-email-illustration.png\"/>\r\n            <br/>\r\n             <Button variant=\"light\" size=\"lg\" onClick={()=>history.push(\"/\")}>Back to Page</Button>\r\n        </div>\r\n       \r\n        </>\r\n    )\r\n}\r\n\r\nexport default EmailValidation\r\n","import React, { useState } from \"react\";\r\nimport { Row, Col, Button, Alert, InputGroup } from \"react-bootstrap\";\r\nimport img from \"../images/banner.jpg\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport EmailValidation from \"./EmailValidation\";\r\n\r\nfunction Register() {\r\n  const RegisterShema = Yup.object().shape({\r\n    firstName: Yup.string().min(2).max(60).required(\"Ime je obavezno.\"),\r\n    lastName: Yup.string().min(2).max(60).required(\"Prezime je obavezno.\"),\r\n    email: Yup.string()\r\n      .email(\"Kriva email adresa.\")\r\n      .required(\"Email adresa je obavezna.\"),\r\n    password: Yup.string()\r\n      .required(\"Molim vas unesite svoju lozinku.\")\r\n      .matches(\r\n        /^.*(?=.{8,})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,\r\n        \"Lozinka se mora sastojati od barem 8 znakova, jedno veliko slovo i jedan broj.\"\r\n      ),\r\n    confirmPassword: Yup.string()\r\n      .required(\"Molim vas potvrdite svoju lozinku.\")\r\n      .oneOf([Yup.ref(\"password\"), null], \"Loiznke se ne podudaraju.\"),\r\n    gender: Yup.string().required(\"Spol je obavezan.\"),\r\n\r\n    day: Yup.string().required(\"Unesite dan.\"),\r\n    month: Yup.string().required(\"Unesite mjesec.\"),\r\n    year: Yup.string().required(\"Unesite godinu.\"),\r\n\r\n    city: Yup.string().min(2).max(60).required(\"Grad je obavezan.\"),\r\n    zip: Yup.string()\r\n      .required(\"Potanski broj je obavezan.\")\r\n      .matches(\r\n        /^\\d{5}(?:[-\\s]\\d{4})?$/,\r\n        \"Zip must contain 5 numbers e.g 10000\"\r\n      ),\r\n  });\r\n  const days = [];\r\n\r\n  const months = [\r\n    \"Sijeanj\",\r\n    \"Veljaa\",\r\n    \"Oujak\",\r\n    \"Travanj\",\r\n    \"Svibanj\",\r\n    \"Lipanj\",\r\n    \"Srpanj\",\r\n    \"Kolovoz\",\r\n    \"Rujan\",\r\n    \"Listopad\",\r\n    \"Studeni\",\r\n    \"Prosinac\",\r\n  ];\r\n\r\n  const years = [];\r\n  for (let i = 1; i <= 31; i++) {\r\n    days.push(i);\r\n  }\r\n  for (let i = 1900; i <= 2021; i++) {\r\n    years.push(i);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    let name = e.target.value;\r\n    alert(name);\r\n  };\r\n\r\n  const reformatDate = (day, month, year) => {\r\n    month = months.indexOf(month) + 1;\r\n\r\n    if (month < 10) {\r\n      month = \"0\" + month;\r\n    }\r\n\r\n    return year + \"-\" + month + \"-\" + day;\r\n  };\r\n\r\n  const [loadEmailValidation, setLoadEmailValidation] = useState(false);\r\n\r\n  if (loadEmailValidation == true) return <EmailValidation />;\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          gender: \"\",\r\n          day: \"\",\r\n          month: \"\",\r\n          year: \"\",\r\n          city: \"\",\r\n          zip: \"\",\r\n        }}\r\n        validationSchema={RegisterShema}\r\n        onSubmit={async (values) => {\r\n          values.dob = reformatDate(values.day, values.month, values.year);\r\n          console.log(values);\r\n          delete values.day;\r\n          delete values.month;\r\n          delete values.year;\r\n          delete values.confirmPassword;\r\n\r\n          // await new Promise((r) => setTimeout(r, 500));\r\n          // alert(JSON.stringify(values, null, 2));\r\n\r\n          try {\r\n            const res = await axios.post(\r\n              process.env.REACT_APP_REGISTER_USER,\r\n              values\r\n            );\r\n            console.log(res.data);\r\n          } catch (error) {\r\n            errorHandler(error);\r\n          }\r\n\r\n          setLoadEmailValidation(true);\r\n        }}\r\n      >\r\n        {({ errors, touched, values }) => (\r\n          <Form>\r\n            <Row\r\n              width=\"100%\"\r\n              id=\"register_user\"\r\n              style={{\r\n                justifyContent: \"center\",\r\n                width: \"100%\",\r\n                padding: \"0\",\r\n                margin: \"0\",\r\n                marginTop: \"50px\",\r\n              }}\r\n            >\r\n              <Col\r\n                lg={6}\r\n                md={6}\r\n                sm={12}\r\n                style={{\r\n                  padding: \"10px\",\r\n                  background: \"#578BB8\",\r\n                  marginTop: \"-20px\",\r\n                }}\r\n              >\r\n                <h1\r\n                  style={{\r\n                    color: \"white\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"3rem\",\r\n                    textAlign: \"left\",\r\n                  }}\r\n                >\r\n                  Registriraj se\r\n                </h1>\r\n\r\n                <Row width=\"100%\">\r\n                  <Col lg={6}>\r\n                    {\" \"}\r\n                    <label\r\n                      htmlFor=\"firstName\"\r\n                      style={{ color: \"white\", fontSize: \"20px\" }}\r\n                    >\r\n                      Ime\r\n                    </label>\r\n                    <Field\r\n                      name=\"firstName\"\r\n                      type=\"text\"\r\n                      className=\"form-control form-group\"\r\n                      style={{ width: \"50%\" }}\r\n                      style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                       \r\n                        \r\n                      \r\n                    />\r\n                    {errors.firstName && touched.firstName ? (\r\n                      <Alert variant=\"warning\">{errors.firstName}</Alert>\r\n                    ) : null}\r\n                  </Col>\r\n                  <Col lg={6}>\r\n                    <label\r\n                      htmlFor=\"lastName\"\r\n                      style={{ color: \"white\", fontSize: \"20px\" }}\r\n                      \r\n                    >\r\n                      Prezime\r\n                    </label>\r\n                    <Field\r\n                      name=\"lastName\"\r\n                      type=\"text\"\r\n                      className=\"form-control form-group\"\r\n                      style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                     \r\n\r\n                    />\r\n                    {errors.lastName && touched.lastName ? (\r\n                      <Alert variant=\"warning\">{errors.lastName}</Alert>\r\n                    ) : null}\r\n                  </Col>\r\n                </Row>\r\n\r\n                <label\r\n                  htmlFor=\"email\"\r\n                  style={{ color: \"white\", fontSize: \"20px\" }}\r\n                >\r\n                  Email adresa\r\n                </label>\r\n                <Field\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  className=\"form-control form-group\"\r\n                  style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                />\r\n                {errors.email && touched.email ? (\r\n                  <Alert variant=\"warning\">{errors.email}</Alert>\r\n                ) : null}\r\n\r\n                <label\r\n                  htmlFor=\"lastName\"\r\n                  style={{ color: \"white\", fontSize: \"20px\" }}\r\n                >\r\n                  Lozinka\r\n                </label>\r\n                <Field\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  className=\"form-control form-group\"\r\n                  style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                />\r\n                {errors.password && touched.password ? (\r\n                  <Alert variant=\"warning\">{errors.password}</Alert>\r\n                ) : null}\r\n\r\n                <label\r\n                  htmlFor=\"lastName\"\r\n                  style={{ color: \"white\", fontSize: \"20px\" }}\r\n                >\r\n                  Potvrdi Lozinku\r\n                </label>\r\n                <Field\r\n                  name=\"confirmPassword\"\r\n                  type=\"password\"\r\n                  className=\"form-control form-group\"\r\n                  style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                />\r\n                {errors.confirmPassword && touched.confirmPassword ? (\r\n                  <Alert variant=\"warning\">{errors.confirmPassword}</Alert>\r\n                ) : null}\r\n              </Col>\r\n\r\n              <Col\r\n                style={{\r\n                  marginTop: \"9px\",\r\n                  background: \"#578BB8\",\r\n                  marginLeft: \"20px\",\r\n                  marginTop: \"-20px\",\r\n                }}\r\n                lg={3}\r\n                md={3}\r\n                sm={12}\r\n              >\r\n                <Row width=\"100%\" style={{ marginTop: \"73px\" }}>\r\n                  <Col lg={8}>\r\n                    <label\r\n                      htmlFor=\"city\"\r\n                      style={{\r\n                        color: \"white\",\r\n                        fontSize: \"20px\",\r\n                        display: \"inline-block\",\r\n                      }}\r\n                    >\r\n                      Grad\r\n                    </label>\r\n                    <Field\r\n                      name=\"city\"\r\n                      type=\"text\"\r\n                      className=\"form-control form-group\"\r\n                      style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                    />\r\n                    {errors.city && touched.city ? (\r\n                      <Alert variant=\"warning\">{errors.city}</Alert>\r\n                    ) : null}\r\n                  </Col>\r\n                  <Col lg={4}>\r\n                    <label\r\n                      htmlFor=\"lastName\"\r\n                      style={{ color: \"white\", fontSize: \"20px\" }}\r\n                    >\r\n                      Zip\r\n                    </label>\r\n                    <Field\r\n                      name=\"zip\"\r\n                      placeholder=\"npr. 10000\"\r\n                      type=\"number\"\r\n                      pattern=\"[A-Za-z]{3}\"\r\n                      className=\"form-control form-group\"\r\n                      style={{ backgroundColor: \"#A8CEED\", border: \"none\" }}\r\n                    />\r\n                    {errors.zip && touched.zip ? (\r\n                      <Alert variant=\"warning\">{errors.zip}</Alert>\r\n                    ) : null}\r\n                  </Col>\r\n                </Row>\r\n\r\n                <label\r\n                  htmlFor=\"dob\"\r\n                  style={{ color: \"white\", fontSize: \"20px\" }}\r\n                >\r\n                  Datum roenja\r\n                </label>\r\n                <br></br>\r\n                <Field\r\n                  name=\"day\"\r\n                  id=\"day\"\r\n                  type=\"string\"\r\n                  as=\"select\"\r\n                  className=\"my-select\"\r\n                  value={values.day}\r\n                  style={{ padding: \"10px\", borderRadius: \"5px\" }}\r\n                >\r\n                  <option value=\"\" style={{ display: \"none\" }}>\r\n                    Dan\r\n                  </option>\r\n\r\n                  {days.map((day) => {\r\n                    return <option value={day}>{day}</option>;\r\n                  })}\r\n                </Field>\r\n                {errors.day && touched.day ? (\r\n                  <Alert variant=\"warning\">{errors.day}</Alert>\r\n                ) : null}\r\n\r\n                <Field\r\n                  name=\"month\"\r\n                  data-dropup-auto=\"false\"\r\n                  id=\"month\"\r\n                  type=\"string\"\r\n                  as=\"select\"\r\n                  className=\"my-select\"\r\n                  value={values.month}\r\n                  style={{ padding: \"10px\", borderRadius: \"5px\" }}\r\n                >\r\n                  <option value=\"\" style={{ display: \"none\" }}>\r\n                    Mjesec\r\n                  </option>\r\n\r\n                  {months.map((month) => {\r\n                    return <option value={month}>{month}</option>;\r\n                  })}\r\n                </Field>\r\n                {errors.month && touched.month ? (\r\n                  <Alert variant=\"warning\">{errors.month}</Alert>\r\n                ) : null}\r\n\r\n                <Field\r\n                  data-dropup-auto=\"false\"\r\n                  name=\"year\"\r\n                  id=\"year\"\r\n                  type=\"string\"\r\n                  as=\"select\"\r\n                  className=\"my-select\"\r\n                  value={values.year}\r\n                  style={{ padding: \"10px\", borderRadius: \"5px\" }}\r\n                >\r\n                  <option value=\"\" style={{ display: \"none\" }}>\r\n                    Godina\r\n                  </option>\r\n\r\n                  {years.map((year) => {\r\n                    return <option value={year}>{year}</option>;\r\n                  })}\r\n                </Field>\r\n                {errors.year && touched.year ? (\r\n                  <Alert variant=\"warning\">{errors.year}</Alert>\r\n                ) : null}\r\n\r\n                <br></br>\r\n                <br></br>\r\n                <label\r\n                  htmlFor=\"gender\"\r\n                  style={{ color: \"white\", fontSize: \"20px\" }}\r\n                >\r\n                  Spol\r\n                </label>\r\n                <div\r\n                  role=\"group\"\r\n                  aria-labelledby=\"my-radio-group\"\r\n                  style={{ color: \"white\" }}\r\n                >\r\n                  <div>\r\n                    <label>\r\n                      <Field type=\"radio\" name=\"gender\" value=\"Male\" />\r\n                      Male\r\n                    </label>\r\n                  </div>\r\n                  <div>\r\n                    <label>\r\n                      <Field type=\"radio\" name=\"gender\" value=\"Female\" />\r\n                      Female\r\n                    </label>\r\n                  </div>\r\n                  <div>\r\n                    <label>\r\n                      <Field type=\"radio\" name=\"gender\" value=\"Other\" />\r\n                      Other\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                {errors.gender && touched.gender ? (\r\n                  <Alert variant=\"warning\">{errors.gender}</Alert>\r\n                ) : null}\r\n\r\n                <div style={{ textAlign: \"center\" }}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    size=\"lg\"\r\n                    style={{\r\n                      width: \"50%\",\r\n                      padding: \"10px\",\r\n                      fontWeight: \"bold\",\r\n                      backgroundColor: \"#DF314D\",\r\n                      border: \"none\",\r\n                      marginBottom:\"20px\"\r\n\r\n                    }}\r\n                  >\r\n                    Prijavi se\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\n\r\nimport Register from \"./Register\"\r\nimport \"./LandingRegister.css\"\r\n\r\nfunction LandingRegister() {\r\n  return (\r\n    <Container fluid>\r\n      <Row style={{padding:\"0\",margin:\"0\"}}>\r\n        <Col lg={10} className=\"about\">\r\n        <h1>O nama</h1>\r\n        <h3>Lorem Ipsum is simply dummy text of the printing and typesetting\r\n        industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n        since the 1500s, when an unknown printer took a galley of type and\r\n        scrambled it to make a type specimen book. It has survived not only five\r\n        centuries, but also the leap into electronic typesetting, remaining\r\n        essentially unchanged. It was popularised in the 1960s with the release\r\n        of Letraset sheets containing Lorem Ipsum passages, and more recently\r\n        with desktop publishing software like Aldus PageMaker including versions\r\n        of Lorem Ipsum.\r\n        </h3>\r\n        </Col>\r\n        <Row>\r\n        <Col>\r\n        <div id=\"register_user\"></div>\r\n        <Register/>\r\n        </Col>\r\n        </Row>\r\n\r\n       <div style={{marginBottom:\"150px\"}}></div>\r\n        \r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default LandingRegister;\r\n","export default __webpack_public_path__ + \"static/media/World_Map.018ca89e.png\";","import React from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\n\r\nimport map from \"../images/World_Map.png\";\r\n\r\nfunction MapPage() {\r\n  return (\r\n    <Container\r\n      fluid\r\n      style={{\r\n        background: `url(${map})`,\r\n        height: \"100vh\",\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n      }}\r\n      className=\"page-holder bg-cover\"\r\n    >\r\n      <Row >\r\n        <Col lg={12} style={{textAlign:\"center\"}}>\r\n          <h1 style={{color:\"#DF314D\",marginTop:\"-50px\",fontWeight:\"bold\"}}>Pronai svoju srodnu duu na mapi.Moda je samo od tebe 2km!?</h1>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default MapPage;\r\n","export default __webpack_public_path__ + \"static/media/girl.ce752aa8.jpeg\";","export default __webpack_public_path__ + \"static/media/boy.bdff6215.jpeg\";","export default __webpack_public_path__ + \"static/media/star.7f08bb8e.svg\";","export default __webpack_public_path__ + \"static/media/boy2.f76342b4.jpeg\";","import React from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport \"./UserReviews.css\"\r\n\r\nimport girl from \"../images/girl.jpeg\"\r\nimport star from \"../images/star.svg\"\r\nimport boy from \"../images/boy.jpeg\"\r\nimport boy2 from \"../images/boy2.jpeg\"\r\n\r\nfunction UserReviews() {\r\n  return (\r\n    <Container \r\n    fluid\r\n    style={{\r\n        backgroundColor:\"#A8CEED\",\r\n       \r\n        \r\n        \r\n      }}\r\n      className=\"page-holder bg-cover\"\r\n    >\r\n    \r\n    <Row>\r\n    <Col style={{marginTop:\"50px\"}}>\r\n    <h1 className=\"reviews\">Pitali smo korisnike</h1> \r\n    </Col>\r\n    </Row>\r\n   \r\n      \r\n    <Row style={{width:\"100%\",justifyContent:\"center\",textAlign:\"center\"}}>\r\n\r\n   \r\n        <Col lg={2} className=\"userBox\">\r\n        <img src={girl} id=\"profilePhoto\"/>\r\n          <h1>Ivana Ivanic</h1>\r\n          <p>\r\n            It is a long established fact that a reader will be distracted by\r\n            the readable content of a page when looking at its layout. The point\r\n            of using Lorem Ipsum is that it has a more-or-less normal\r\n            distribution of letters, as opposed to using 'Content here, content\r\n            here', making it look like readable English.{\" \"}\r\n          </p>\r\n\r\n           \r\n          <i class=\"fas fa-star\">5 stars</i>\r\n        </Col>\r\n\r\n        <Col lg={2} className=\"userBox\" style={{backgroundColor:\"#DF314D\"}}>\r\n        <img src={boy} id=\"profilePhoto\"/>\r\n          <h1>Sven Tadi</h1>\r\n          <p>\r\n            It is a long established fact that a reader will be distracted by\r\n            the readable content of a page when looking at its layout. The point\r\n            of using Lorem Ipsum is that it has a more-or-less normal\r\n            distribution of letters, as opposed to using 'Content here, content\r\n            here', making it look like readable English.{\" \"}\r\n          </p>\r\n\r\n           \r\n          <i class=\"fas fa-star\">5 stars</i>\r\n        </Col>\r\n\r\n        <Col lg={2} className=\"userBox\">\r\n        <img src={boy2} id=\"profilePhoto\"/>\r\n          <h1>Marko Marki</h1>\r\n          <p>\r\n            It is a long established fact that a reader will be distracted by\r\n            the readable content of a page when looking at its layout. The point\r\n            of using Lorem Ipsum is that it has a more-or-less normal\r\n            distribution of letters, as opposed to using 'Content here, content\r\n            here', making it look like readable English.{\" \"}\r\n          </p>\r\n\r\n           \r\n          <i class=\"fas fa-star\">4 stars</i>\r\n        </Col>\r\n\r\n      \r\n     \r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UserReviews;\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div style={{backgroundColor:\"#578BB8\",textAlign:\"center\",padding:\"20px\"}}>\r\n            <h3>Copyright and design by Laura Sui 2021</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from \"react\";\r\nimport cover from \"../images/CoverPhoto.jpeg\";\r\nimport { Row, Button, Col, Container } from \"react-bootstrap\";\r\n\r\nimport {Link} from \"react-router-dom\"\r\nimport \"./LandingPage.css\"\r\n\r\nimport LogIn from \"./LogIn\"\r\n\r\nimport logo from \"../images/logo_transparent.svg\"\r\nimport LandingRegister from \"./LandingRegister\";\r\nimport MapPage from \"./MapPage\";\r\nimport UserReviews from \"./UserReviews\";\r\nimport Footer from \"./Footer\";\r\nimport { useState } from \"react\";\r\n\r\nimport {FaArrowCircleUp} from 'react-icons/fa';\r\n\r\n\r\nfunction LandingPage() {\r\n\r\n  const [showScroll, setShowScroll] = useState(false)\r\n\r\n  const checkScrollTop = () => {\r\n    if (!showScroll && window.pageYOffset > 400){\r\n      setShowScroll(true)\r\n    } else if (showScroll && window.pageYOffset <= 400){\r\n      setShowScroll(false)\r\n    }\r\n  };\r\n\r\n  const scrollTop = () =>{\r\n    window.scrollTo({top: 0, behavior: 'smooth'});\r\n  };\r\n\r\n  window.addEventListener('scroll', checkScrollTop)\r\n\r\n  return (\r\n    <Container\r\n    fluid\r\n    \r\n      style={{\r\n        background: `url(${cover})`,\r\n        height: \"100vh\",\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n        \r\n      }}\r\n      className=\"page-holder bg-cover\"\r\n    >\r\n      <Row style={{ textAlign: \"right\", width: \"100%\"}}>\r\n       \r\n      <Col lg={2}><img src={logo} style={{marginLeft:\"80px\",width:\"100%\"}} /></Col>\r\n        <Col style={{padding:\"20px\"}} lg={10}>\r\n         \r\n       \r\n          <Button  style={{padding:\"20px\",backgroundColor:\"#578BB8\",marginTop:\"20px\",color:\"white\",border:\"none\"}}>\r\n          <a style={{textDecoration:\"none\",color:\"white\"}} href=\"#register_user\">Register</a></Button>\r\n        </Col>\r\n      </Row>\r\n\r\n    \r\n      <Row style={{width:\"100%\",textAlign:\"center\",justifyContent:\"center\",marginTop:\"-50px\",marginBottom:\"300px\"}}>\r\n      \r\n      <Col className=\"loginBox\" lg={4}>\r\n      <h1 className=\"title\">Dobrodoli u FindMe!</h1>\r\n      <h4 className=\"subtitle\">Ulogiraj se i pronai srodnu duu u samo nekoliko klikova!</h4>\r\n\r\n\r\n\r\n      <FaArrowCircleUp className=\"scrollTop\" onClick={scrollTop} style={{height: 40,color:\"#DF314D\", display: showScroll ? 'flex' : 'none'}}/>\r\n\r\n\r\n      <LogIn/>\r\n\r\n      </Col>\r\n\r\n      <Col lg={6}>\r\n      \r\n      </Col>\r\n       \r\n      </Row>\r\n\r\n\r\n    </Container>\r\n\r\n\r\n  \r\n  );\r\n}\r\n\r\nexport default LandingPage;\r\n","export default __webpack_public_path__ + \"static/media/default-photo.79bfd233.png\";","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  FormControl,\r\n  FormGroup,\r\n  FormLabel,\r\n  Row,\r\n  Form,\r\n} from \"react-bootstrap\";\r\n\r\n\r\nimport axios from \"axios\";\r\nimport defaultPhoto from \"../images/default-photo.png\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { default as _ } from \"lodash\";\r\n\r\n\r\nfunction CompleteSetup() {\r\n\r\n\r\n  const {accessToken,userData} = useContext(myContext)\r\n  const history = useHistory()\r\n  \r\n  const [toggleWindow, setToggleWindow] = useState(false);\r\n\r\n  const [counter, setCounter] = useState(1);\r\n\r\n  const cloudinary = \"https://res.cloudinary.com\";\r\n\r\n  const ref1 = useRef()\r\n  const ref2 = useRef()\r\n  const ref3 = useRef()\r\n\r\n\r\n  //Cloudinary default photo\r\n  const [image, setImage] = useState(\r\n    cloudinary +\r\n      \"/dbfwwnhat/image/upload/v1624200889/users/rvzipikczav6cdlwemyi.png\"\r\n  );\r\n\r\n  //Image data for backend\r\n  const [imageUrl, setImageUrl] = useState(\"/dbfwwnhat/image/upload/v1624200889/users/rvzipikczav6cdlwemyi.png\");\r\n\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [sexOrientation, setSexOrientation] = useState(\"\");\r\n\r\n  //Location of users\r\n  const [lastKnownLocation, setLastKnownLocation] = useState(false);\r\n\r\n    const sexes = [\"Males\",\"Females\",\"Both\"]\r\n\r\n  const descRef = useRef(\"\")\r\n\r\n  ///WIDGET\r\n\r\n  let widget = window.cloudinary.createUploadWidget(\r\n    {\r\n      cloudName: \"dbfwwnhat\",\r\n      uploadPreset: \"jydos0sa\",\r\n      folder: \"users\",\r\n      //  cropping:true,\r\n      name: \"hey\",\r\n    },\r\n    (error, result) => {\r\n      if (result.event == \"queues-end\") {\r\n        console.log(result)\r\n        setImage(result.info.files[0].uploadInfo.secure_url); //path for backend\r\n        setImageUrl(result.info.files[0].uploadInfo.secure_url);\r\n        \r\n      }\r\n    }\r\n  );\r\n\r\n  function showWidget() {\r\n    widget.open();\r\n  }\r\n\r\n  const loadNewWindow = () => {\r\n    setCounter(counter + 1);\r\n  };\r\n\r\n  const setupDesc = async () => {\r\n     \r\n\r\n      try {\r\n        console.log(descRef.current.value)\r\n        console.log(accessToken)\r\n        const res = await axios.patch(process.env.REACT_APP_GET_USER_DATA,{description:descRef.current.value},\r\n        {\r\n            headers:{\r\n                'authorization': accessToken\r\n              }\r\n        }\r\n        )\r\n        console.log(res.data)\r\n        loadNewWindow()\r\n        \r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n\r\n      loadNewWindow()\r\n  }\r\n\r\n  const setupImage = async () => {\r\n    try {\r\n        console.log(accessToken)\r\n        const res = await axios.patch(process.env.REACT_APP_GET_USER_DATA,{imageUrl:imageUrl},\r\n        {\r\n            headers:{\r\n                'authorization':accessToken\r\n              }\r\n        }\r\n\r\n        )\r\n        console.log(res.data)\r\n        loadNewWindow()\r\n        \r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n  }\r\n\r\n  const setupSexualOrientation = async () => {\r\n    \r\n      let ele = document.getElementsByName('gender');\r\n      \r\n      const checked = [...ele].filter(radio => radio.checked)[0].value\r\n\r\n\r\n      try {\r\n        const res = await axios.patch(process.env.REACT_APP_GET_USER_DATA,{sexualOrientation:Number(sexes.indexOf(checked))},\r\n        {\r\n            headers:{\r\n                'authorization': accessToken\r\n              }\r\n        }\r\n        )\r\n        console.log(res.data)\r\n        history.push(\"/main\")\r\n       \r\n        \r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n\r\n    \r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   if (\"geolocation\" in navigator) {\r\n  //     console.log(\"Available\");\r\n  //   } else {\r\n  //     console.log(\"Not Available\");\r\n  //   }\r\n\r\n  //   navigator.geolocation.getCurrentPosition(async function (position) {\r\n  //     console.log(\"Latitude is :\", position.coords.latitude);\r\n  //     console.log(\"Longitude is :\", position.coords.longitude);\r\n\r\n  //     try {\r\n       \r\n  //       const res = await axios.patch(\r\n  //         process.env.REACT_APP_USER_LOCATION,\r\n  //         {\r\n  //           latitude : position.coords.latitude,\r\n  //           longitude: position.coords.longitude\r\n          \r\n  //         },\r\n  //         {\r\n  //           headers: {\r\n  //             authorization: accessToken,\r\n  //           },\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n       \r\n  //     } catch (error) {\r\n  //       errorHandler(error);\r\n  //     }\r\n      \r\n  //   });\r\n\r\n  //   //IF DOESNT WANT LOCATION SEND FALSE\r\n\r\n\r\n  // }, []);\r\n\r\n  // const sendLocation = async() => {\r\n  //   try {\r\n       \r\n  //     const res = await axios.patch(\r\n  //       process.env.REACT_APP_USER_LOCATION,\r\n  //       {\r\n  //         latitude : false,\r\n  //         longitude: false\r\n        \r\n  //       },\r\n  //       {\r\n  //         headers: {\r\n  //           authorization: accessToken,\r\n  //         },\r\n  //       }\r\n  //     );\r\n  //     console.log(res.data);\r\n     \r\n  //   } catch (error) {\r\n  //     errorHandler(error);\r\n  //   }\r\n  // }\r\n\r\n\r\n  // if(_.isUndefined(userData.lastKnownLocation)) sendLocation()\r\n\r\n  \r\n  function UploadImage() {\r\n    return (\r\n      <React.Fragment>\r\n        <Row\r\n          style={{\r\n            justifyContent: \"center\",\r\n            border: \"2px solid black\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <Col>\r\n            <h1 style={{ marginTop: \"30px\" }}>Set your Profile Photo</h1>\r\n\r\n            <Row>\r\n              <img src={image} style={{ width: \"20%\", margin: \"0 auto\" }} />\r\n            </Row>\r\n            <Button\r\n              onClick={showWidget}\r\n              size=\"lg\"\r\n              style={{ marginBottom: \"20px\" }}\r\n            >\r\n              Upload Image\r\n            </Button>\r\n            <br />\r\n\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              style={{\r\n                marginRight: \"20px\",\r\n                borderRadius: \"1px\",\r\n                marginBottom: \"30px\",\r\n              }}\r\n              onClick={setupImage}\r\n            >\r\n              Submit\r\n            </Button>\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              onClick={loadNewWindow}\r\n              style={{\r\n                marginRight: \"20px\",\r\n                borderRadius: \"1px\",\r\n                marginBottom: \"30px\",\r\n              }}\r\n            >\r\n              Skip\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  function AddDescription() {\r\n    return (\r\n      <React.Fragment>\r\n        <Row\r\n          style={{\r\n            justifyContent: \"center\",\r\n            border: \"2px solid black\",\r\n            height: \"500px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <Col>\r\n            <h1 style={{ marginTop: \"30px\" }}>Add Description</h1>\r\n\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              placeholder=\"Education,Job,Hobbies etc.\"\r\n              style={{\r\n                height: \"300px\",\r\n                width: \"50vw\",\r\n                margin: \"0 auto\",\r\n                marginBottom: \"10px\",\r\n              }}\r\n              ref={descRef}\r\n              \r\n            />\r\n           \r\n\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              style={{\r\n                marginRight: \"20px\",\r\n                borderRadius: \"1px\",\r\n                marginBottom: \"30px\",\r\n              }}\r\n              onClick={setupDesc}\r\n            >\r\n              Submit\r\n            </Button>\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              onClick={loadNewWindow}\r\n              style={{\r\n                marginRight: \"20px\",\r\n                borderRadius: \"1px\",\r\n                marginBottom: \"30px\",\r\n              }}\r\n            >\r\n              Skip\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  const loadMain = () => {\r\n    history.push(\"/main\")\r\n  }\r\n\r\n\r\n\r\n  function SexualOrientation() {\r\n    return (\r\n      <React.Fragment>\r\n        <Row\r\n          style={{\r\n            justifyContent: \"center\",\r\n            border: \"2px solid black\",\r\n            height: \"500px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <Col>\r\n            <h1 style={{ marginTop: \"30px\" }}>Add Your Sexual Orientation</h1>\r\n\r\n            <Row>\r\n              <Col style={{ padding: \"20px\", height: \"300px\" }}>\r\n            \r\n              <div>\r\n              <input type=\"radio\" value=\"Males\" name=\"gender\" ref={ref1}/> {sexes[0]}\r\n              <input type=\"radio\" value=\"Females\" name=\"gender\" ref={ref2}/> {sexes[1]}\r\n              <input type=\"radio\" value=\"Both\" name=\"gender\" ref={ref3} /> {sexes[2]}\r\n            </div>\r\n\r\n              </Col>\r\n            </Row>\r\n\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              style={{ marginRight: \"20px\", borderRadius: \"1px\" }}\r\n              onClick={setupSexualOrientation}\r\n            >\r\n              Submit\r\n            </Button>\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline-dark\"\r\n              onClick={loadMain}\r\n              style={{ marginRight: \"20px\", borderRadius: \"1px\" }}\r\n            >\r\n              Skip\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row\r\n        style={{\r\n          justifyContent: \"center\",\r\n          marginTop: \"50px\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <h1>Complete your Setup</h1>\r\n        <h2>\r\n          You can skip for now but you will be{\" \"}\r\n          <span style={{ textDecoration: \"underline\" }}>\r\n            less visible to users.\r\n          </span>{\" \"}\r\n        </h2>\r\n      </Row>\r\n\r\n      \r\n\r\n\r\n      {counter == 1 ? <UploadImage /> : null}\r\n      {counter == 2 ? <AddDescription /> : null}\r\n      {counter == 3 ? <SexualOrientation /> : null}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default CompleteSetup;\r\n","import React, { useContext, useState } from 'react'\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport \"./Cards.css\"\r\nimport myContext from './contexts/myContext';\r\nimport { errorHandler, getSexOr } from \"./functions/Functions\";\r\nimport axios from \"axios\";\r\nimport { default as _ } from \"lodash\";\r\nimport { FaHeart } from 'react-icons/fa';\r\n\r\nfunction Cards(props) {\r\n    const {users,setViewport} = props\r\n\r\n    const {userData,accessToken,userPoints,setUserPoints} = useContext(myContext)\r\n    console.log(userPoints)\r\n    const history = useHistory()\r\n   \r\n    \r\n    const viewProfile = (id) => {\r\n        history.push(`/user/${id}`);\r\n    }\r\n\r\n\r\n    const likeUser = async(id) => {\r\n      try {\r\n        const res = await axios.get(process.env.REACT_APP_LIKE_USER + `/${id}`,\r\n        {\r\n            headers:{\r\n                'authorization': accessToken\r\n              }\r\n        }\r\n        )\r\n        console.log(res.data)\r\n        setUserPoints(res.data)\r\n       \r\n        \r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    }\r\n\r\n\r\n    return (\r\n        <div  className=\"cards\">\r\n            <h3 style={{color:\"white\"}}>Korisnici na mapi</h3>\r\n            \r\n            {users.map(user=>{\r\n                if(user._id == userData._id) return\r\n                return <Row style={{margin:\"0\",padding:\"0\",marginTop:\"20px\"}} className=\"card\" onClick={()=>setViewport({\r\n                  width: \"100%\",\r\n                  height: \"90vh\",\r\n                    latitude: user.lastKnownLocation.coordinates[0],\r\n                    longitude: user.lastKnownLocation.coordinates[1],\r\n                    zoom: 15,\r\n                  })}>\r\n                    <br/>\r\n                    <Row style={{marginTop:\"10px\"}}>\r\n                    <Col lg={4}>\r\n                    <img src={user.imageUrl} width=\"30%\" id=\"rounded-image\"/>\r\n                    <Button className=\"user-button\" onClick={()=>viewProfile(user._id)}>Pogledaj Profil</Button>\r\n                   \r\n                    {/* <FaHeart className=\"like\" /> */}\r\n                 \r\n                    <Button className=\"btn1\"  variant=\"primary\" style={{width:\"50%\",marginTop:\"10px\",marginLeft:\"10px\"}} onClick={()=>likeUser(user._id)} disabled={\r\n                      userPoints?.liked.includes(user._id) ? true : false\r\n                    }>Like\r\n                 \r\n                    </Button>\r\n                    </Col>\r\n\r\n                    <Col lg={8}>\r\n                    <h1 className=\"user-name\">{user.firstName} {user.lastName} ,{user.age},{user.gender}</h1>\r\n                    \r\n                    <h3 className=\"user-city\">{user.city},{user.zip}</h3>\r\n                    {/* //DISTANCE 2km od tebe */}<p style={{color:\"#578BB8\",fontWeight:\"bold\"}}>2 km od mene</p>\r\n                    <h5>O meni</h5>\r\n                    <p>{_.isNull(user.description) ? user.description : \"Nema opisa\"}</p>\r\n                    <p>{user.interests?.map(i=>{\r\n                      return <li className=\"user-interest\"\r\n                      >{i.interest}</li>\r\n                  })}</p>\r\n                    </Col>\r\n\r\n                  \r\n\r\n                    \r\n\r\n                   \r\n                   \r\n\r\n                    </Row>\r\n\r\n                   \r\n                \r\n                   \r\n               \r\n\r\n                \r\n               \r\n                   \r\n                    </Row>\r\n                   \r\n                  \r\n                      \r\n                       \r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cards\r\n","import axios from \"axios\";\r\nimport { range } from \"lodash\";\r\nimport React, { useContext, useRef, useState } from \"react\";\r\nimport { Button, Col, Dropdown, FormControl, InputGroup, Row } from \"react-bootstrap\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport \"./Filters.css\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport { default as _ } from \"lodash\";\r\n\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nfunction Filters(props) {\r\n  const ranges = [50, 100, 150, 200, 500];\r\n  const { users, setMarkers } = props;\r\n  const { userData } = useContext(myContext);\r\n\r\n  const rangeRef = useRef(null);\r\n  const minAgeRef = useRef(null);\r\n  const maxAgeRef = useRef(null);\r\n\r\n  const hobbieRef = useRef(null);\r\n  const [mapHobbies, setMapHobbies] = useState([]);\r\n  const [radioVal, setRadioVal] = useState(null);\r\n\r\n  const { accessToken } = useContext(myContext);\r\n\r\n  const handleChange = (e, interst) => {\r\n    if (e.target.checked) {\r\n      setMapHobbies([...mapHobbies, interst.interest]);\r\n    } else {\r\n      setMapHobbies(mapHobbies.filter((i) => i != interst.interest));\r\n    }\r\n  };\r\n\r\n  const filterUsers = async () => {\r\n    const obj = {\r\n      range: rangeRef.current.value,\r\n    };\r\n\r\n    if (!_.isNull(radioVal)) {\r\n      obj[\"sex\"] = radioVal;\r\n    }\r\n\r\n    if (!_.isEmpty(mapHobbies)) {\r\n      obj[\"interests\"] = mapHobbies.map((i) => {\r\n        return { category: \"1\", interest: i };\r\n      });\r\n    }\r\n\r\n    if (!minAgeRef.current.value == \"\" && !maxAgeRef.current.value == \"\") {\r\n      console.log(minAgeRef.current.value);\r\n      obj[\"age\"] = {\r\n        min: minAgeRef.current.value,\r\n        max: maxAgeRef.current.value,\r\n      };\r\n    }\r\n\r\n    console.log(obj);\r\n\r\n    if (Object.keys(obj).length == 1 && Object.keys(obj)[0] == \"range\") {\r\n      console.log(\"hej range\");\r\n\r\n      try {\r\n        const res = await axios.get(\r\n          process.env.REACT_APP_MAP + \"?range=\" + obj.range,\r\n          {\r\n            headers: {\r\n              authorization: accessToken,\r\n            },\r\n          }\r\n        );\r\n        // setRadius(range) //TODO CHANGE THIS FIX IT\r\n        console.log(res.data);\r\n        setMarkers(res.data);\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios.post(process.env.REACT_APP_MAP, obj, {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        });\r\n\r\n        console.log(res.data);\r\n        setMarkers(res.data);\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRChange = (e) => {\r\n    setRadioVal(e.target.value);\r\n  };\r\n  return (\r\n    <div className=\"filters\">\r\n     \r\n     <h4 style={{color:\"white\"}}>Filtriraj korisnike</h4>\r\n      <Row style={{backgroundColor:\"white\",margin:\"0\",padding:\"0\",height:\"80%\"}}>\r\n\r\n     <Col lg={6}>\r\n     \r\n     <span>\r\n        <h5 style={{ display: \"inline\" }}>Radijus :</h5>{\" \"}\r\n        <select\r\n          ref={rangeRef}\r\n          style={{ display: \"inline\" }}\r\n          className=\"radius-select\"\r\n        >\r\n          {ranges.map((r) => {\r\n            return <option value={r}>{r} km</option>;\r\n          })}\r\n        </select>\r\n      </span>\r\n      <br />\r\n      <br />\r\n      <span style={{ marginTop: \"10px\" }}>\r\n        <h5 style={{ display: \"inline\" }}>Godine :</h5> min{\" \"}\r\n        <input type=\"number\" min=\"18\" ref={minAgeRef} className=\"input-age\" />\r\n        <input\r\n          type=\"number\"\r\n          ref={maxAgeRef}\r\n          className=\"input-age\"\r\n          max=\"100\"\r\n        />{\" \"}\r\n    max\r\n      </span>\r\n\r\n    <br/>\r\n      <span>\r\n        <h5 style={{display:\"inline\",marginTop:\"10px\"}}>Spol :</h5>\r\n        <div\r\n          class=\"form-check\"\r\n          style={{ marginLeft: \"5px\",display:\"inline\",paddingLeft:\"30px\" }}\r\n          onChange={(e) => handleRChange(e)}\r\n        >\r\n          \r\n            <inputs\r\n              class=\"form-check-input\"\r\n              type=\"radio\"\r\n              name=\"flexRadioDefault\"\r\n              value={0}\r\n              id=\"flexRadioDefault1\"\r\n              onChange={(e) => handleRChange(e)}\r\n              \r\n              \r\n            />\r\n            <label class=\"form-check-label\" for=\"flexRadioDefault1\" >\r\n              Mukarci\r\n            </label>\r\n          \r\n        \r\n            <input\r\n              class=\"form-check-input\"\r\n              type=\"radio\"\r\n              name=\"flexRadioDefault\"\r\n              value={1}\r\n              id=\"flexRadioDefault1\"\r\n              onChange={(e) => handleRChange(e)}\r\n              style={{marginLeft:\"5px\"}}\r\n             \r\n            />\r\n            <label class=\"form-check-label\" for=\"flexRadioDefault1\" style={{marginLeft:\"20px\"}}>\r\n              ene\r\n            </label>\r\n         \r\n         \r\n            <input\r\n              class=\"form-check-input\"\r\n              type=\"radio\"\r\n              name=\"flexRadioDefault\"\r\n              value={2}\r\n              id=\"flexRadioDefault1\"\r\n              onChange={(e) => handleRChange(e)}\r\n              style={{marginLeft:\"5px\"}}\r\n            />\r\n            <label class=\"form-check-label\" for=\"flexRadioDefault1\" >\r\n              Ostalo\r\n            </label>\r\n           \r\n        </div>\r\n      </span>\r\n      <Button id=\"search-someone\">Pronai mi nekoga danas</Button>\r\n\r\n\r\n     </Col>\r\n\r\n     <Col lg={6}>\r\n     <h5>Moji interesi</h5>\r\n      {userData.interests.map((i) => {\r\n        return (\r\n          <span\r\n            style={{marginLeft:\"20px\",paddingLeft:\"5px\"}}\r\n            onChange={(e) => handleChange(e, i)}\r\n          >\r\n            <input\r\n              class=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              value={i.interest}\r\n              id=\"flexCheckDefault\"\r\n            />\r\n            <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n              {i.interest}\r\n            </label>\r\n          </span>\r\n          \r\n        );\r\n      })}\r\n        <br/>\r\n      <Button onClick={filterUsers} id=\"search-button\">Trai</Button>\r\n     \r\n     </Col>\r\n      \r\n\r\n   \r\n     \r\n      \r\n      </Row>\r\n     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filters;\r\n","import axios from \"axios\";\r\nimport { accessToken, Feature } from \"mapbox-gl\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport ReactMapGL, { Marker, Layer, Popup, Source } from \"react-map-gl\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport img from \"../images/default-photo.png\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  FormControl,\r\n  InputGroup,\r\n  OverlayTrigger,\r\n  Popover,\r\n  Row,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { default as _, range } from \"lodash\";\r\nimport Cards from \"./Cards\";\r\nimport Filters from \"./Filters\";\r\n\r\nimport \"./Map.css\"\r\n\r\nfunction Map(props) {\r\n  const history = useHistory();\r\n  const { userData, accessToken, setUserData } = useContext(myContext);\r\n\r\n  const userImage = userData.imageUrl;\r\n\r\n  const [radius, setRadius] = useState(500);\r\n\r\n  const [viewport, setViewport] = useState({\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    latitude: userData.lastKnownLocation.coordinates[0],\r\n    longitude: userData.lastKnownLocation.coordinates[1],\r\n\r\n    zoom: 13,\r\n  });\r\n\r\n  const [usersMarkers, setUsersMarkers] = useState([]);\r\n\r\n  const input = useRef(\"\");\r\n\r\n  const goToUserPage = (id) => {\r\n    history.push(`/user/${id}`);\r\n  };\r\n\r\n  const onMarkerClick = (id) => {\r\n    alert(\"You clicked on marker\");\r\n\r\n    history.push(`/user/${id}`);\r\n  };\r\n\r\n  const getUsersInRadius = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_MAP + \"?range=\" + radius,\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      setUsersMarkers(res.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsersInRadius();\r\n  }, []);\r\n\r\n  const changeRange = async (range) => {\r\n    try {\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_MAP + \"?range=\" + range,\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      setRadius(range); //TODO CHANGE THIS FIX IT\r\n\r\n      setUsersMarkers(res.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  const geojson = {\r\n    type: \"Feature\",\r\n    geometry: {\r\n      type: \"Polygon\",\r\n      coordinates: [\r\n        [10, 10],\r\n        [-10, 10],\r\n        [-10, -10],\r\n        [10, -10],\r\n        [10, 10],\r\n      ],\r\n    },\r\n  };\r\n\r\n  const getCurrentLocation = () => {\r\n    if (\"geolocation\" in navigator) {\r\n      console.log(\"Available\");\r\n    } else {\r\n      console.log(\"Not Available\");\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(async function (position) {\r\n      console.log(\"Latitude is :\", position.coords.latitude);\r\n      console.log(\"Longitude is :\", position.coords.longitude);\r\n\r\n      try {\r\n        const res = await axios.patch(\r\n          process.env.REACT_APP_USER_LOCATION,\r\n          {\r\n            latitude: position.coords.latitude,\r\n            longitude: position.coords.longitude,\r\n          },\r\n          {\r\n            headers: {\r\n              authorization: accessToken,\r\n            },\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setUserData(res.data);\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ReactMapGL\r\n        {...viewport}\r\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\r\n        onViewportChange={(nextViewport) => setViewport(nextViewport)}\r\n        mapStyle=\"mapbox://styles/fakkkkkk123/ckq6pcalq3jpd17o6c7kiwz2y\"\r\n        style={{ position: \"absolute\"}}\r\n      >\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => getCurrentLocation()}\r\n          style={{ float: \"right\", borderRadius: \"0px\",backgroundColor:\"#578BB8\",border:\"none\",zIndex:\"100\" }}\r\n        >\r\n          Dohvati moju trenutnu lokaciju\r\n        </Button>\r\n        <div style={{ clear: \"both\" }}></div>\r\n        <Source id=\"bull\" type=\"geojson\" data={geojson}>\r\n          <Layer\r\n            id=\"nes\"\r\n            type=\"fill\"\r\n            source=\"bull\"\r\n            paint={{\r\n              \"fill-color\": \"#228b22\",\r\n              \"fill-opacity\": 1,\r\n            }}\r\n          ></Layer>\r\n        </Source>\r\n\r\n        <Marker\r\n          latitude={userData.lastKnownLocation.coordinates[0]}\r\n          longitude={userData.lastKnownLocation.coordinates[1]}\r\n          offsetLeft={-50}\r\n          zoom={11}\r\n        >\r\n          <img width=\"80px\" id=\"profilePhoto\" src={userImage} onClick={(event) => {}} />\r\n        </Marker>\r\n        {usersMarkers.map((user, i) => {\r\n          if (user._id === userData._id) return <></>;\r\n\r\n          return (\r\n            <Marker\r\n              key={i}\r\n              latitude={user.lastKnownLocation.coordinates[0]}\r\n              longitude={user.lastKnownLocation.coordinates[1]}\r\n              zoom={11}\r\n              onClick={() => onMarkerClick(user._id)}\r\n              offsetRight={-50}\r\n            >\r\n              <img width=\"40px\" src={user.imageUrl} id=\"mapPhoto\"/>\r\n            </Marker>\r\n          );\r\n        })}\r\n      </ReactMapGL>\r\n\r\n      <Cards users={usersMarkers} setViewport={setViewport}/>\r\n      <Filters setMarkers={setUsersMarkers} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport moment, { duration } from \"moment\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport \"./Timer.css\"\r\n\r\nfunction Timer(props) {\r\n\r\n  const { date,fetchHearts } = props;\r\n\r\n  const [timer, setTimer] = useState(0);\r\n\r\n  function setCountdown() {\r\n\r\n    const futureDate = moment(date);\r\n    const today = moment();\r\n    const clockDuration = duration(futureDate.diff(today));\r\n    // let dana = Math.floor(clockDuration.asDays());\r\n    // let sati = clockDuration.hours();\r\n    let min = clockDuration.minutes();\r\n    let sec = clockDuration.seconds();\r\n\r\n    // if (Math.floor(clockDuration.asDays()) < 0){\r\n    //      dana = 0;\r\n    // }\r\n\r\n    // if (clockDuration.hours() < 0){\r\n    //      sati = 0;\r\n    // }\r\n\r\n    if (clockDuration.minutes() < 0){\r\n         min = 0;\r\n    }\r\n\r\n    if (clockDuration.seconds() < 0){\r\n         sec = 0;\r\n    }\r\n\r\n    setTimer({\r\n      // dana: dana,\r\n      // sati: sati,\r\n      min: min,\r\n      sec: sec,\r\n    });\r\n    \r\n    if(clockDuration.seconds()<0){\r\n      fetchHearts()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCountdown();\r\n    const interval = setInterval(() => {\r\n      setCountdown();\r\n    \r\n\r\n    }, 1000);\r\n\r\n\r\n   \r\n\r\n\r\n    return () => clearInterval(interval);\r\n  }, [date]);\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n  \r\n    if(Date.now()>=new Date(date)){\r\n      fetchHearts()\r\n    \r\n    }\r\n  },[]) //TIMER\r\n\r\n \r\n        return(\r\n            <Container>\r\n                \r\n               \r\n            \r\n                {Object.keys(timer).map((key, i) => (\r\n                    <span className=\"timer\" >\r\n                        <span className=\"key\">\r\n                            {timer[key]}\r\n                        </span>\r\n                        <span>\r\n                            {key.toLowerCase()}\r\n                        </span>\r\n                    </span>\r\n\r\n                    \r\n                ))}\r\n            \r\n     \r\n            </Container>\r\n        )\r\n    }\r\n\r\n\r\nexport default Timer;","export default __webpack_public_path__ + \"static/media/heart.322d5c9d.png\";","export default __webpack_public_path__ + \"static/media/Notifications.c4e2483b.png\";","export default __webpack_public_path__ + \"static/media/bell.2c91d9c7.svg\";","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Header.css\";\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Row,\r\n  Dropdown,\r\n  NavDropdown,\r\n  Badge,\r\n  Nav,\r\n  Navbar,\r\n  \r\n} from \"react-bootstrap\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { default as _, set } from \"lodash\";\r\nimport axios from \"axios\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport Timer from \"./Timer\";\r\nimport notImg from \"../images/Notifications.png\";\r\n\r\nimport logo from \"../images/logo_transparent.svg\";\r\nimport heart from \"../images/heart.png\";\r\nimport bell from \"../images/bell.svg\";\r\n\r\nimport { FaBell } from \"react-icons/fa\";\r\n\r\nfunction Header() {\r\n  const { accessToken, setAccessToken, userData, socket, setUserPoints } =\r\n    useContext(myContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const [lifes, setLifes] = useState(null);\r\n  const [timeToFill, setTimeToFill] = useState(null);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [arrivalNotification, setArrivalNotification] = useState(null);\r\n  const [chatNotification, setChatNotifications] = useState(null);\r\n  const [hasNewNotifications, setHasNewNotifications] = useState(false);\r\n  //FETCH LIVES OF USER\r\n\r\n  useEffect(async () => {\r\n    await fetchHearts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"getNotification\", (data) => {\r\n      setArrivalNotification(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(notifications);\r\n  }, [notifications]);\r\n\r\n  useEffect(() => {\r\n    if (arrivalNotification != null) {\r\n      setNotifications([...notifications, arrivalNotification]);\r\n    }\r\n  }, [arrivalNotification]);\r\n\r\n  useEffect(() => {}, [lifes]);\r\n\r\n  const LogOut = () => {\r\n    setAccessToken(null);\r\n    const refreshToken = localStorage.removeItem(\"refreshToken\");\r\n\r\n    if (_.isUndefined(refreshToken)) {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const myProfile = () => {\r\n    history.push(\"/myProfile\");\r\n  };\r\n\r\n  const fetchHearts = async () => {\r\n    try {\r\n      const res = await axios.get(process.env.REACT_APP_GET_USER_POINTS, {\r\n        headers: {\r\n          authorization: accessToken,\r\n        },\r\n      });\r\n\r\n      console.log(\"lifes\");\r\n      console.log(res.data);\r\n      setUserPoints(res.data);\r\n      setLifes(res.data.lifes);\r\n      setTimeToFill(res.data.nextHeartAt);\r\n      setNotifications(res.data.notifications);\r\n      setChatNotifications(res.data.chat_notifications);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  const setSeenNotification = async (n_id, type, senderId, chat_id) => {\r\n    const txt =\r\n      type == \"0\"\r\n        ? process.env.REACT_APP_GET_CHAT_NOTIFICATION\r\n        : process.env.REACT_APP_GET_NOTIFICATION;\r\n\r\n    const goToPage = (senderId) => {\r\n      if (type == 0) {\r\n        history.push(`chat/${chat_id}`);\r\n      } else if (type == 1) {\r\n        history.push(`user/${senderId}`);\r\n      }\r\n    };\r\n\r\n    try {\r\n      const res = await axios.get(txt + `${n_id}`, {\r\n        headers: {\r\n          authorization: accessToken,\r\n        },\r\n      });\r\n\r\n      console.log(res.data);\r\n      goToPage(senderId);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  const decrease = async () => {\r\n    try {\r\n      const res = await axios.patch(\r\n        \"http://localhost:3000/api/v1/userPoints/decrease\",\r\n        {},\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data);\r\n\r\n      setUserPoints(res.data);\r\n      setLifes(res.data.lifes);\r\n      setTimeToFill(res.data.nextHeartAt);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n   \r\n    <Container fluid\r\n    style={{margin:\"0\",padding:\"0\"}}\r\n    className=\"header\">\r\n\r\n    <Row\r\n        style={{ width: \"100%\", padding: \"0\", margin: \"0\" }}\r\n        \r\n      >\r\n\r\n\r\n        <Col lg={2} md={2} sm={2} >\r\n          <img  src={logo} style={{ width: \"60%\",}} onClick={()=>history.push(\"/main\")} /><span className=\"title-app\">FindMe</span>\r\n        </Col>\r\n\r\n        \r\n\r\n       \r\n\r\n        <Col lg={8} md={2} sm={2} style={{textAlign:\"right\"}}>\r\n         \r\n        {/* <Col lg={2}>\r\n        <Button onClick={()=>decrease()}> decrease</Button>\r\n         \r\n        </Col>\r\n         */}\r\n      \r\n        <Col style={{marginLeft:\"90px\"}}>\r\n        {timeToFill == null ? null : (\r\n          <Timer date={timeToFill}  fetchHearts={fetchHearts} style={{marginTop:\"-30px\"}} />\r\n        )}\r\n        </Col>\r\n       \r\n        </Col>\r\n\r\n     \r\n        <Col lg={2} md={8} sm={8}>\r\n\r\n        <Row>      \r\n\r\n      \r\n        \r\n     \r\n\r\n        <Col lg={2} md={2} sm={2}>\r\n              <img\r\n                src={heart}\r\n                style={{\r\n                  width: \"50px\",\r\n                  marginTop: \"20px\",\r\n                }}\r\n              />\r\n            <span>\r\n\r\n            </span>\r\n            </Col>\r\n            \r\n            <Col lg={1} style={{marginTop:\"20px\"}}>\r\n              <h1 id=\"numberOfHearts\">{lifes}</h1>\r\n            </Col>\r\n\r\n            <Col lg={2} md={2} sm={2} style={{marginLeft:\"50px\"}}>\r\n\r\n           {/* //TODO ADD BADGE FOR UNSEEN NOTIFICATIONS */}\r\n              \r\n            <div class=\"dropdown\">\r\n            <FaBell id=\"notBell\" /> \r\n            <div class=\"dropdown-notification\">\r\n            {notifications?.map((n) => {\r\n              \r\n              return (\r\n                <p style={n.seen == false? {backgroundColor:\"lightgrey\"} : {backgroundColor:\"white\"}} onClick={()=>setSeenNotification(n._id,n.type,n.senderId)}>\r\n                 \r\n                  {n.text}\r\n                </p>\r\n              );\r\n            })}\r\n            {chatNotification?.map(n=>{\r\n\r\n              return  (<p style={n.seen == false? {backgroundColor:\"lightgrey\"} : {backgroundColor:\"white\"}} onClick={()=>setSeenNotification(n._id,n.type,n.senderId,n.chat_id)}>\r\n               \r\n              {n.text}\r\n            </p>)\r\n            })}\r\n\r\n            </div>\r\n          </div>\r\n      \r\n              \r\n           \r\n            </Col>\r\n\r\n            <Col lg={4} md={4} sm={4}>\r\n            <div class=\"dropdown\">\r\n            <img src={userData.imageUrl} className=\"userPhoto\"/>\r\n        <div class=\"dropdown-content\">\r\n        <p className=\"dropdown-item\" onClick={myProfile}>My Profile</p>\r\n        <p className=\"dropdown-item\">My Chats</p>\r\n        <p className=\"dropdown-item\" onClick={LogOut}>Log Out</p>\r\n\r\n        </div>\r\n      </div>\r\n      \r\n              \r\n          </Col>\r\n\r\n         \r\n        </Row>\r\n\r\n\r\n        </Col>\r\n\r\n     \r\n\r\n        {/* <Col lg={6} style={{backgroundColor:\"pink\",alignContent:\"right\"}}>\r\n\r\n        <Row>\r\n\r\n\r\n        <Col lg={2}>\r\n              <img\r\n                src={heart}\r\n                style={{\r\n                  width: \"50%\",\r\n                  display: \"inline-block\",\r\n                  marginTop: \"10px\",\r\n                }}\r\n              />\r\n            </Col>\r\n\r\n            <Col lg={1} style={{ marginTop: \"20px\", marginLeft: \"-90px\" }}>\r\n              <h1 id=\"numberOfHearts\">5</h1>\r\n            </Col>\r\n\r\n            \r\n            <Col lg={2}>\r\n              <FaBell id=\"notBell\" />\r\n            </Col>\r\n\r\n        \r\n        <Col lg={2}>\r\n              <img src={userData.imageUrl} className=\"userPhoto\" />\r\n          </Col> \r\n\r\n        </Row>\r\n    \r\n        </Col>  */}\r\n\r\n\r\n    {/* <Col lg={5}>\r\n        Lifes\r\n        <h1>{lifes}</h1>\r\n        {timeToFill == null ? null : (\r\n          <Timer date={timeToFill} fetchHearts={fetchHearts} />\r\n        )}\r\n      </Col>  */}\r\n\r\n   {/* <Col lg={12}> \r\n\r\n   <Dropdown>\r\n          <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n            Notifications\r\n            {hasNewNotifications == true ? <span className=\"badge\">1</span> : null}\r\n            \r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu>\r\n            {notifications?.map((n) => {\r\n              \r\n              return (\r\n                <Dropdown.Item style={n.seen == false? {backgroundColor:\"lightgrey\"} : {backgroundColor:\"white\"}} onClick={()=>setSeenNotification(n._id,n.type,n.senderId)}>\r\n                 \r\n                  {n.text}\r\n                </Dropdown.Item>\r\n              );\r\n            })}\r\n            {chatNotification?.map(n=>{\r\n\r\n              return  (<Dropdown.Item style={n.seen == false? {backgroundColor:\"lightgrey\"} : {backgroundColor:\"white\"}} onClick={()=>setSeenNotification(n._id,n.type,n.senderId,n.chat_id)}>\r\n               \r\n              {n.text}\r\n            </Dropdown.Item>)\r\n            })}\r\n          </Dropdown.Menu>\r\n        </Dropdown> \r\n <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"secondary\"\r\n            id=\"dropdown-basic\"\r\n            className=\"button\"\r\n            style={{ padding: \"10px\", marginLeft: \"120px\" }}\r\n          >\r\n           \r\n            <img src={userData.imageUrl} width=\"30px\" />\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item onClick={myProfile}>My Profile</Dropdown.Item>\r\n            <Dropdown.Item href=\"#/action-2\">My Chats</Dropdown.Item>\r\n            <Dropdown.Item onClick={LogOut}>Log Out</Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown> \r\n\r\n    </Col>  */}\r\n    </Row> \r\n     </Container>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Alert, Button, Col, Container, Row, Spinner } from \"react-bootstrap\";\r\nimport Map from \"./Map\";\r\nimport Header from \"./Header\";\r\nimport axios from \"axios\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { default as _ } from \"lodash\";\r\n\r\nfunction Main() {\r\n  const [lastKnownLocation, setLastKnownLocation] = useState(false);\r\n  const { accessToken, userData } = useContext(myContext);\r\n\r\n  //PATCH USER LOCATION\r\n\r\n  // useEffect(() => {\r\n  //     if (\"geolocation\" in navigator) {\r\n  //       console.log(\"Available\");\r\n  //     } else {\r\n  //       console.log(\"Not Available\");\r\n  //     }\r\n\r\n  //     navigator.geolocation.getCurrentPosition(async function (position) {\r\n  //       console.log(\"Latitude is :\", position.coords.latitude);\r\n  //       console.log(\"Longitude is :\", position.coords.longitude);\r\n\r\n  //       try {\r\n\r\n  //         const res = await axios.patch(\r\n  //           process.env.REACT_APP_USER_LOCATION,\r\n  //           {\r\n  //             latitude : position.coords.latitude,\r\n  //             longitude: position.coords.longitude\r\n\r\n  //           },\r\n  //           {\r\n  //             headers: {\r\n  //               authorization: accessToken,\r\n  //             },\r\n  //           }\r\n  //         );\r\n  //         console.log(res.data);\r\n\r\n  //       } catch (error) {\r\n  //         errorHandler(error);\r\n  //       }\r\n\r\n  //     });\r\n\r\n  //     IF DOESNT WANT LOCATION SEND FALSE\r\n\r\n  //   }, []);\r\n\r\n  //   PATCH USER LOCATION IF LOCATION FALSE\r\n\r\n  //   const sendLocation = async() => {\r\n  //     try {\r\n\r\n  //       const res = await axios.patch(\r\n  //         process.env.REACT_APP_GET_USER_DATA,\r\n  //         {\r\n  //           latitude : false,\r\n  //           longitude: false\r\n\r\n  //         },\r\n  //         {\r\n  //           headers: {\r\n  //             authorization: accessToken,\r\n  //           },\r\n  //         }\r\n  //       );\r\n  //       console.log(res.data);\r\n\r\n  //     } catch (error) {\r\n  //       errorHandler(error);\r\n  //     }\r\n\r\n  //   }\r\n\r\n  // if(_.isUndefined(userData.lastKnownLocation)) sendLocation()\r\n  //   console.log(userData)\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n\r\n      {_.isUndefined(userData.lastKnownLocation) ? (\r\n        <Spinner animation=\"border\" />\r\n      ) : (\r\n        <Map />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/pattern.e5ec4783.jpg\";","import React from 'react'\r\nimport { Carousel } from 'react-bootstrap'\r\n\r\nfunction Slideshow(props) {\r\n\r\n    const {images} = props\r\n\r\n    return (\r\n        <Carousel>\r\n\r\n        {images.map(img=>{\r\n            return <Carousel.Item>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={img.imageUrl}\r\n              alt=\"First slide\"\r\n              style={{borderRadius:\"0px\",width:\"100%\",height:\"100%\"}}\r\n            />\r\n               </Carousel.Item>\r\n        })}\r\n\r\n        {/* <Carousel.Item interval={1000}>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"holder.js/800x400?text=First slide&bg=373940\"\r\n            alt=\"First slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>First slide label</h3>\r\n            <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item interval={500}>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"holder.js/800x400?text=Second slide&bg=282c34\"\r\n            alt=\"Second slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Second slide label</h3>\r\n            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"holder.js/800x400?text=Third slide&bg=20232a\"\r\n            alt=\"Third slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Third slide label</h3>\r\n            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item> */}\r\n      </Carousel>\r\n    )\r\n}\r\n\r\nexport default Slideshow\r\n","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { errorHandler, getSexOr } from \"./functions/Functions\";\r\nimport { Spinner, Container, Button, Row, Col, Modal } from \"react-bootstrap\";\r\nimport { default as _ } from \"lodash\";\r\nimport \"./MyProfile.css\";\r\n\r\nimport Header from \"./Header\"\r\n\r\nimport pattern from \"../images/pattern.jpg\"\r\n\r\nimport {FaCamera} from 'react-icons/fa';\r\nimport Slideshow from \"./Slideshow\";\r\n\r\nfunction UserProfile() {\r\n  const [friendData, setFriendData] = useState(null);\r\n  const { id } = useParams();\r\n  const { accessToken, userPoints, setUserPoints } = useContext(myContext);\r\n  const [showSlideShow, setShowSlideShow] = useState(false);\r\n  const handleCloseSlideShow = () => setShowSlideShow(false);\r\n  const handleShowSlideShow = () => setShowSlideShow(true);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleClick = async () => {\r\n    //Set the user id to cookie\r\n\r\n    localStorage.setItem(\"recieverId\", id);\r\n\r\n    //Create chat\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        process.env.REACT_APP_CHAT_ROUTE,\r\n        { recipient_id: id },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(res.data);\r\n      history.push(`/chat/${res.data.chat_id}`);\r\n    } catch (err) {\r\n      console.log(err);\r\n      errorHandler(err);\r\n      // alert(\"You dont have points! :(\");\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    if (friendData == null) {\r\n      try {\r\n        const res = await axios.get(\r\n          process.env.REACT_APP_GET_USER_DATA + `/${id}`,\r\n\r\n          {\r\n            headers: {\r\n              authorization: accessToken,\r\n            },\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setFriendData(res.data);\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const likeUser = async (id) => {\r\n    try {\r\n      const res = await axios.get(\r\n        process.env.REACT_APP_LIKE_USER + `/${friendData._id}`,\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data);\r\n      setUserPoints(res.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n \r\n\r\n  return (\r\n    \r\n   \r\n     \r\n    \r\n    <Container fluid\r\n    style={{\r\n      background: `url(${pattern})`,\r\n      height: \"100vh\",\r\n      backgroundSize: \"cover\",\r\n      \r\n    \r\n    }}\r\n    >\r\n       {_.isNull(friendData) ? (\r\n      <Spinner animation=\"border\" role=\"status\" />\r\n    ) : ( <React.Fragment>\r\n      <Row>\r\n        <Header/>\r\n      </Row>\r\n      <Row>\r\n\r\n      <Col lg={4} md={12} sm={10} className=\"aboutMe\">\r\n        <Row>\r\n          <Col>\r\n          <Button className=\"talk\">Razgovaraj</Button>\r\n          </Col>\r\n          <Col>\r\n          <div style={{float:\"right\"}}>\r\n          <Button style={{marginTop:\"10px\",marginRight:\"10px\",borderRadius:\"0px\",backgroundColor:\"#F59391\",border:\"none\"}}>Like</Button>\r\n          <Button style={{marginTop:\"10px\",borderRadius:\"0px\",backgroundColor:\"#DF314D\",border:\"none\"}}>Dislike</Button>\r\n          </div>\r\n          <div style={{clear:\"both\"}}></div>\r\n          </Col>\r\n        \r\n        </Row>\r\n\r\n\r\n        <Row>\r\n          <Col>\r\n          <img src={friendData?.imageUrl} width=\"50%\" className=\"myProfilePhoto\" />\r\n       \r\n          </Col>\r\n        </Row>\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n        <Col>\r\n        <h3 className=\"credentials\">{friendData.firstName} {friendData.lastName},{friendData.age}, {friendData.gender}</h3>\r\n        <h5 className=\"credentials\" style={{marginTop:\"20px\"}}>{friendData.city},{friendData.zip}</h5>\r\n        </Col>\r\n\r\n\r\n        </Row>\r\n\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n          <Col lg={8}>\r\n            <h3 className=\"titleMe\">O meni</h3>\r\n            <p className=\"desc\"> \r\n             <p>{_.isUndefined(friendData.description) ? \"Nema opis.\" : friendData.description}</p> \r\n        \r\n              </p>\r\n          </Col>\r\n          <Col>\r\n         \r\n  \r\n          </Col>\r\n        </Row>\r\n\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n          <Col lg={8}>\r\n          <h3 className=\"titleMe\">Posao/Edukacija</h3>\r\n          <p>{_.isUndefined(friendData.education) ? \"Nema dodanu edukaciju.\" : friendData.education}</p> \r\n          <p>{_.isUndefined(friendData.job) ? \"Nema dodan posao.\" : friendData.job}</p> \r\n          </Col>\r\n\r\n\r\n          <Col>\r\n        \r\n\r\n\r\n\r\n          </Col>\r\n          </Row>\r\n\r\n          \r\n\r\n\r\n\r\n      </Col>\r\n\r\n     \r\n      <Col lg={7} md={7} sm={10} className=\"nextMe\">\r\n\r\n      <Row>\r\n\r\n      <Col lg={10}>\r\n      <h3 className=\"titleMe\" style={{marginTop:\"30px\",marginLeft:\"20px\"}}>Galerija</h3>\r\n      \r\n\r\n      </Col>\r\n     \r\n\r\n      </Row>\r\n    \r\n      <Row style={{marginLeft:\"10px\",marginTop:\"10px\"}}> \r\n      \r\n\r\n      {_.isEmpty(friendData.gallery) ? \"Prazna galerija.\" : friendData.gallery.map(img=>{\r\n        return <img src={img.imageUrl} style={{width:\"30%\",height:\"200px\",backgroundSize:\"cover\",borderRadius:\"0px\"}}\r\n        onClick={handleShowSlideShow}\r\n        />\r\n      })}\r\n      \r\n\r\n\r\n    <Modal show={showSlideShow} onHide={handleCloseSlideShow} className=\"slideShow\" size=\"xl\" closeButton>\r\n              {/* <Modal.Header closeButton>\r\n                <Modal.Title>Uredi Galeriju</Modal.Title>\r\n              </Modal.Header> */}\r\n              <Modal.Body >\r\n\r\n              <Slideshow images={friendData.gallery}/>\r\n            \r\n      </Modal.Body>\r\n     \r\n    </Modal>\r\n\r\n     \r\n      </Row>\r\n\r\n\r\n      <Row>\r\n        <Col lg={10}>\r\n        <h3 className=\"titleMe\" style={{marginTop:\"30px\",marginLeft:\"20px\",marginBottom:\"20px\"}}>Moji interesi</h3>\r\n\r\n        {_.isEmpty(friendData.interests) ? \"Nema interesa za prikaz.\" : \r\n        \r\n        friendData.interests.map(i=>{\r\n          return <li className=\"myHobbies\">{i.interest}</li>\r\n        })\r\n        }\r\n      \r\n    \r\n        </Col>\r\n       \r\n\r\n\r\n\r\n   \r\n      </Row>\r\n\r\n      </Col>\r\n\r\n        {/* <div className=\"profile\">\r\n          <div className=\"profilePhoto\">\r\n            <img src={imageUrl} width=\"50%\" />\r\n            <br />\r\n            <Button style={{ marginTop: \"10px\" }} onClick={changeProfilePhoto}>\r\n              Change Profile Photo\r\n            </Button>\r\n          </div>{\" \"}\r\n          <p className=\"name\">\r\n            {userData.firstName} {userData.lastName} , {userData.age} , {userData.gender}\r\n          </p>\r\n       \r\n          <h3>City</h3>\r\n          <p>\r\n            {userData.city},{userData.zip}\r\n          </p>\r\n          <p></p>\r\n          <h3>I'm interested in</h3>\r\n          <p style={{ fontSize: \"20px\" }}>\r\n          <textarea\r\n              placeholder=\"Add Sex in which you are interested in\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditSexOr}\r\n              ref={eduRef}\r\n            >\r\n               {getSexOr(userData.sexualOrientation)}\r\n            </textarea>{\" \"}\r\n            <Button  className=\"editBtn\" onClick={editSexOr}>\r\n              Edit\r\n            </Button>\r\n            {toggleEditSexOr == false ? (\r\n              <>\r\n\r\n              <h5>Add Your Sexual Orientation</h5>\r\n\r\n              <Row>\r\n               \r\n\r\n                <div>\r\n                <input type=\"radio\" value=\"Males\" name=\"gender\" ref={ref1}/> {sexes[0]}\r\n                <input type=\"radio\" value=\"Females\" name=\"gender\" ref={ref2}/> {sexes[1]}\r\n                <input type=\"radio\" value=\"Both\" name=\"gender\" ref={ref3} /> {sexes[2]}\r\n              </div>\r\n\r\n                \r\n              </Row>\r\n\r\n                <Button\r\n                  onClick={saveSexOrData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditSexOr(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </p>\r\n          <h3>Gallery</h3>\r\n          \r\n\r\n            <Gallery />\r\n\r\n         \r\n          \r\n          \r\n        \r\n          <br/> <br/>\r\n         \r\n          \r\n          <br />\r\n          <br />\r\n          <h3>About</h3>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Add Education\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditEdu}\r\n              ref={eduRef}\r\n            >\r\n              {userData.education}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editEdu} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditEdu == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveEduData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditEdu(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Add Job\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditJob}\r\n              ref={jobRef}\r\n            >\r\n              {userData.job}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editJob} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditJob == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveJobData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditJob(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Personal Description\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditDesc}\r\n              ref={descRef}\r\n            >\r\n              {userData.description}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editDesc} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditDesc == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditDesc(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <br />\r\n          <h3>Hobbies</h3>\r\n         \r\n         <Hobbies hobbies={userData.interests}/>\r\n          <br/><br/>\r\n         <Button variant=\"secondary\" onClick={()=>setToggleChangePass(!toggleChangePass)}>Change my Password</Button>\r\n\r\n          {toggleChangePass == true ? \r\n          \r\n            <ChangePassword/> : null\r\n        }\r\n\r\n        \r\n        </div> */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n      </Row>\r\n      </React.Fragment> )}\r\n    </Container>\r\n\r\n\r\n    // <Container fluid>\r\n    //   {_.isNull(friendData) ? (\r\n    //     <Spinner animation=\"border\" role=\"status\" />\r\n    //   ) : (\r\n    //     <React.Fragment>\r\n    //       <Row>\r\n    //         <div className=\"profile\">\r\n    //         <Button size=\"lg\" variant=\"primary\" onClick={handleClick}>\r\n    //             Chat Now\r\n    //           </Button>\r\n    //           <Button\r\n    //             size=\"lg\"\r\n    //             variant=\"primary\"\r\n    //             onClick={() => likeUser(friendData._id)}\r\n    //             disabled={\r\n    //               userPoints?.liked.includes(friendData._id) ? true : false\r\n    //             }\r\n    //           >\r\n    //             Like\r\n    //           </Button>\r\n    //           <div className=\"profilePhoto\">\r\n    //             <img src={friendData?.imageUrl} width=\"50%\" />\r\n\r\n    //             <br />\r\n    //           </div>{\" \"}\r\n    //           {console.log(friendData)}\r\n    //           <p className=\"name\">\r\n    //             {friendData.firstName} {friendData.lastName} , {friendData.age}{\" \"}\r\n    //             , {friendData.gender}\r\n    //           </p>\r\n    //           <h3>City</h3>\r\n    //           <p>\r\n    //             {friendData.city},{friendData.zip}\r\n    //           </p>\r\n    //           <p></p>\r\n    //           <h3>I'm interested in</h3>\r\n    //           {friendData.sexualOrientation == null ? (\r\n    //             <p>Not yet filled</p>\r\n    //           ) : (\r\n    //             <p>{getSexOr(friendData.sexualOrientation)}</p>\r\n    //           )}\r\n    //           <h3>Gallery</h3>\r\n    //           {friendData.gallery == \"\" ? (\r\n    //             <p>No images in gallery</p>\r\n    //           ) : (\r\n    //             friendData.gallery.map((img) => {\r\n    //               return (\r\n    //                 <img\r\n    //                   src={img.imageUrl}\r\n    //                   style={{\r\n    //                     borderRadius: \"0px\",\r\n    //                     width: \"30%\",\r\n    //                     marginRight: \"10px\",\r\n    //                   }}\r\n    //                 />\r\n    //               );\r\n    //             })\r\n    //           )}\r\n    //           <h3>About</h3>\r\n    //           <div className=\"description\">\r\n    //             {friendData.desc == null ? (\r\n    //               <p>No description added</p>\r\n    //             ) : (\r\n    //               <p>{friendData.desc}</p>\r\n    //             )}\r\n    //           </div>\r\n    //           <div className=\"description\">\r\n    //             <h3>Education</h3>\r\n    //             {friendData.education == null ? (\r\n    //               <p>No education added</p>\r\n    //             ) : (\r\n    //               <p>{friendData.education}</p>\r\n    //             )}\r\n    //           </div>\r\n    //           <div className=\"description\">\r\n    //             <h3>Job</h3>\r\n    //             {friendData.job == null ? (\r\n    //               <p>No job added</p>\r\n    //             ) : (\r\n    //               <p>{friendData.job}</p>\r\n    //             )}\r\n    //           </div>\r\n\r\n\r\n    //           <br />\r\n    //           <h3>Hobbies</h3>\r\n\r\n\r\n            \r\n               \r\n    //             {friendData.gallery == \"\" ? (\r\n    //               <p>No hobbies yet to show</p>\r\n    //             ) : (\r\n    //               friendData.interests.map((i) => {\r\n    //                 return <li className=\"hobbies\">{i.interest}</li>;\r\n    //               })\r\n    //             )}\r\n             \r\n              \r\n            \r\n    //         </div>\r\n    //       </Row>\r\n    //     </React.Fragment>\r\n    //   )}\r\n    // </Container>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { errorHandler } from '../functions/Functions'\r\nimport myContext from \"../contexts/myContext\";\r\nimport axios from \"axios\";\r\n\r\nfunction Conversation({conversation,currentUser}) {\r\n\r\n    const [user, setUser] = useState(null)\r\n\r\n\r\n    //Set the friend user\r\n    // useEffect(() => {\r\n    //  const friendId = conversation.members.find(m=>m !== currentUser._id)\r\n\r\n    //  //Fetch friend by id\r\n    //  const getUser = async () => {\r\n    //      try{\r\n    //         const res = await axios(\"/users?userId=\"+friendId)\r\n    //         setUser(res.data)\r\n    //      }catch(err){\r\n    //          errorHandler(err)\r\n    //      }\r\n    //  }\r\n    // }, [currentUser, conversation])\r\n\r\n    return (\r\n        <div>\r\n           {/* <h1>{user.firstName} {user.lastName}</h1>  */}\r\n           \r\n           {/* <img src={process.env.REACT_APP_CLOUDINARY_URL + user.imageUrl}/> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Conversation\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport myContext from '../contexts/myContext';\r\nimport { errorHandler } from '../functions/Functions';\r\nimport {default as _} from 'lodash'\r\nimport { Button,Spinner,Container,Col,Row } from \"react-bootstrap\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport \"./Chat.css\"\r\n\r\n\r\nfunction ChatThreads(props) {\r\n\r\n\r\n    const {accessToken,userData,userPoints} = useContext(myContext)\r\n    const [threads, setThreads] = useState([])\r\n\r\n    const history = useHistory()\r\n\r\n    const {blocked} = props\r\n    useEffect(async() => {\r\n    \r\n        try {\r\n            const res = await axios.get(\r\n             process.env.REACT_APP_GET_USER_CHATS,\r\n              {\r\n                headers: {\r\n                  authorization: accessToken,\r\n                },\r\n              }\r\n            );\r\n              \r\n          \r\n         \r\n            setThreads(res.data)\r\n           \r\n\r\n          } catch (error) {\r\n            errorHandler(error);\r\n          }\r\n      \r\n    }, [])\r\n\r\n\r\n\r\n  \r\n\r\n    const changeChat = (id)=>{\r\n        history.push(`/chat/${id}`)\r\n    }\r\n    \r\n  \r\n\r\n    return (\r\n\r\n    \r\n        <div style={{marginTop:\"20px\"}}> \r\n            \r\n          \r\n          \r\n        {threads.map(t=>{\r\n            return<><img src={t.imageUrl} className=\"myProfilePhotoThumbNail\"/> <span className=\"thread\" disabled={blocked}  className=\"nameUser\" onClick={()=>changeChat(t._id)}>{t.firstName}  {t.lastName}</span>\r\n\r\n           \r\n            <hr/>\r\n            </>\r\n        })}\r\n       \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatThreads\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport myContext from \"../contexts/myContext\";\r\nimport axios from \"axios\";\r\nimport { errorHandler } from \"../functions/Functions\";\r\nimport Conversation from \"./Conversation\";\r\nimport { Button, Spinner, Container, Col, Row, Alert, FormControl } from \"react-bootstrap\";\r\nimport { io } from \"socket.io-client\";\r\nimport Mesage from \"./Mesage\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"./Chat.css\";\r\nimport { default as _ } from \"lodash\";\r\nimport ChatThreads from \"./ChatThreads\";\r\nimport pattern from \"../../images/pattern.jpg\"\r\nimport Header from \"../Header.js\"\r\nimport {FaCamera} from 'react-icons/fa';\r\n\r\nfunction Chat() {\r\n  const { userData, chatId, accessToken, socket, setChatId } =\r\n    useContext(myContext);\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [arriveMessage, setArriveMessage] = useState(null);\r\n  const [reciverID, setReciverID] = useState(null);\r\n\r\n  const [oldReciverID, setOldReciverID] = useState(reciverID);\r\n  const [blocked, setBlocked] = useState(false);\r\n  const [userWhoBlocked, setUserWhoBlocked] = useState(null);\r\n\r\n  const [friendData, setFriendData] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n\r\n  ///WIDGET\r\n\r\n  let widget = window.cloudinary.createUploadWidget(\r\n    {\r\n      cloudName: \"dbfwwnhat\",\r\n      uploadPreset: \"jydos0sa\",\r\n      folder: \"users\",\r\n      //  cropping:true,\r\n      name: \"hey\",\r\n    },\r\n    (error, result) => {\r\n      if (result.event == \"queues-end\") {\r\n        setImage(result.info.files[0].uploadInfo.secure_url); //path for backend\r\n      \r\n        sendImage(result.info.files[0].uploadInfo.secure_url)\r\n      }\r\n    }\r\n  );\r\n\r\n  function showWidget() {\r\n    widget.open();\r\n  }\r\n\r\n  const uploadImage = () => {\r\n    showWidget()\r\n   \r\n  }\r\n\r\n  const textArea = useRef();\r\n\r\n  const { id: chat_id } = useParams();\r\n\r\n  //GET CHAT\r\n\r\n  useEffect(() => {\r\n    try {\r\n      axios\r\n        .get(process.env.REACT_APP_CHAT_ROUTE, {\r\n          headers: {\r\n            authorization: accessToken,\r\n            chat_id: chat_id,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          const { user_1, user_2 } = res.data;\r\n\r\n          if (user_1 == userData._id) {\r\n            setReciverID(user_2);\r\n          } else {\r\n            setReciverID(user_1);\r\n          }\r\n          setChatMessages(res.data.messages);\r\n          console.log(res.data);\r\n          setBlocked(res.data.blockChat);\r\n        })\r\n        .catch((err) => {\r\n          errorHandler(err);\r\n        });\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  }, [chat_id]);\r\n\r\n  //FETCH FRIEND DATA\r\n\r\n  useEffect(async () => {\r\n    if (reciverID == null) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      _.isNull(friendData) ||\r\n      _.isUndefined(friendData) ||\r\n      reciverID != oldReciverID\r\n    ) {\r\n      try {\r\n        const res = await axios.get(\r\n          process.env.REACT_APP_GET_USER_DATA + `/${reciverID}`,\r\n\r\n          {\r\n            headers: {\r\n              authorization: accessToken,\r\n            },\r\n          }\r\n        );\r\n\r\n        setFriendData(res.data);\r\n        setOldReciverID(reciverID);\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n    }\r\n  }, [reciverID]);\r\n\r\n  useEffect(() => {\r\n    if (arriveMessage != null) {\r\n      setChatMessages([...chatMessages, arriveMessage]);\r\n    }\r\n  }, [arriveMessage]);\r\n\r\n  useEffect(() => {\r\n    if (socket != null) {\r\n     \r\n      socket.on(\"getUsers\", (users) => {});\r\n\r\n      socket.on(\"getMessage\", (data) => {\r\n        let newMessageArray = Array.from(chatMessages);\r\n        let messObj = {\r\n          message: data.text,\r\n          date: Date.now(),\r\n          senderID: data.senderId,\r\n          imageUrl : data.imageUrl\r\n        };\r\n        setArriveMessage(messObj);\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  //BLOCK CHAT\r\n\r\n  const rejectUser = async (chat_id) => {\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_BLOCK_CHAT,\r\n        { chat_id: chat_id, block: true },\r\n\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(res.data);\r\n      setBlocked(res.data.blocked);\r\n      setUserWhoBlocked(res.data.userWhoBlocked);\r\n      \r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n\r\n  const sendImage = async(imgUrl) => {\r\n   \r\n    socket.emit(\"sendMessage\", {\r\n      senderId: userData._id,\r\n      receiverId: reciverID,\r\n      text: \"m\",\r\n      chatId: chat_id,\r\n      imageUrl: imgUrl\r\n    });\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_CHAT_ROUTE,\r\n        { message: \"m\", imageUrl: imgUrl, chat_id: chat_id },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n            chat_id: chat_id,\r\n          },\r\n        }\r\n      );\r\n      setChatMessages([...chatMessages, { message: \"m\", imageUrl : imgUrl }]);\r\n      delete textArea.current.value;\r\n\r\n      //OVO NETREBA JER VE RADIM SENDMESSAGE\r\n      // socket.emit('sendNotification',{\r\n      //   senderId: userData._id,\r\n      //   receiverId: reciverID,\r\n      //   text: \"You got a new message from \"+friendData.firstName+ \" \"+friendData.lastName,\r\n      // })\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const messageM = textArea.current.value;\r\n    socket.emit(\"sendMessage\", {\r\n      senderId: userData._id,\r\n      receiverId: reciverID,\r\n      text: messageM,\r\n      chatId: chat_id,\r\n    });\r\n    console.log(  {senderId: userData._id,\r\n      receiverId: reciverID,\r\n      text: messageM,\r\n      chatId: chat_id})\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_CHAT_ROUTE,\r\n        { message: messageM, chat_id: chat_id },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n            chat_id: chat_id,\r\n          },\r\n        }\r\n      );\r\n      setChatMessages([...chatMessages, { message: messageM }]);\r\n      delete textArea.current.value;\r\n\r\n    \r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n  if (_.isNull(userData) || _.isUndefined(userData)) return <Spinner />;\r\n\r\n  if (_.isNull(friendData) || _.isUndefined(friendData)) return <Spinner />;\r\n  return (\r\n    <Container fluid\r\n    style={{\r\n      background: `url(${pattern})`,\r\n      backgroundRepeat:\"repeat-x\",\r\n      height: \"100vh\",\r\n      backgroundSize: \"cover\"\r\n    \r\n    }}\r\n    >\r\n      <Row><Header/></Row>\r\n\r\n\r\n\r\n      <Row>\r\n\r\n      <Col lg={4} md={12} sm={10} className=\"conversations\">\r\n\r\n      <h2 className=\"conversation-title\">Razgovori</h2>\r\n\r\n      <ChatThreads blocked={blocked} />\r\n\r\n      </Col>\r\n\r\n      <Col lg={7} md={7} sm={10} className=\"chatBox\" >\r\n      \r\n      <Row>\r\n\r\n      <Col className=\"conversation-title\" style={{fontSize:\"1rem\"}}>\r\n      {friendData === null ? null : (\r\n          <h2 className=\"headline\">\r\n            {friendData.firstName} {friendData.lastName}\r\n          </h2>\r\n        )}\r\n      </Col>\r\n      <Col><Button id=\"blockButton\" onClick={() => rejectUser(chat_id)}>Blokiraj</Button></Col>\r\n      </Row>\r\n\r\n\r\n      <Row>\r\n\r\n        <Col>\r\n        {chatMessages?.map((m, i) => {\r\n            if (i == 0) return;\r\n\r\n            return (\r\n              <>\r\n                <Col\r\n                  key={i}\r\n                  \r\n                >\r\n                  {_.isUndefined(friendData) || _.isNull(friendData) ? (\r\n                    <Spinner animation=\"border\" />\r\n                  ) : m.senderID != userData._id && m.senderID != undefined ? (\r\n                    <Row>\r\n\r\n                      <Col>\r\n                      <img src={friendData.imageUrl} className=\"userPhotoImage\" /><br/>\r\n                      </Col>\r\n                      \r\n                      \r\n                      <div style={{clear:\"both\"}}></div>\r\n                      \r\n                      </Row>\r\n                  \r\n\r\n                  ) : null}\r\n                  \r\n                \r\n\r\n                 <Col style={{float:\"right\",display:\"inline\"}}>{m.imageUrl != undefined ? <img src={m.imageUrl} className=\"chatImg\" />  : <span\r\n                 className={\r\n                  m.senderID == userData._id || m.senderID === undefined\r\n                    ? \"msg\"\r\n                    : \"fmsg\"\r\n                }\r\n                 >{m.message }<span className=\"timeMessageFriend\">8:23</span></span>}</Col>\r\n                 \r\n                 \r\n                  \r\n                  \r\n                </Col>\r\n\r\n                <div className=\"clear\"></div>\r\n\r\n               \r\n              </>\r\n            );\r\n          })}\r\n\r\n\r\n        </Col>\r\n\r\n        <Row>\r\n          <Col>\r\n          \r\n          {blocked == true ? (\r\n            <Alert variant=\"danger\" style={{backgroundColor:\"#DF314D\",color:\"white\",marignTop:\"50px\",width:\"30%\",borderRadius:\"50px\"}}>\r\n              {userWhoBlocked == userData._id\r\n                ? userData.firstName + \" \" + userData.lastName + \" \"\r\n                : friendData.firstName + friendData.lastName + \" \"}\r\n              je blokirala razgovor\r\n            </Alert>\r\n          ) : null}</Col>\r\n        </Row>\r\n\r\n      </Row>\r\n\r\n\r\n      <Row style={{backgroundColor:\"#578BB8\",marginTop:\"40px\"}}>\r\n\r\n        <Col lg={2}>\r\n        <Button className=\"uploadPhotoButton\" onClick={showWidget}><FaCamera/></Button>\r\n        </Col>\r\n\r\n        <Col lg={10}>\r\n       \r\n\r\n        <FormControl\r\n        ref={textArea}\r\n        className=\"messageBox\"\r\n      aria-describedby=\"basic-addon2\"\r\n    />\r\n      <Button onClick={handleSubmit} disabled={blocked} className=\"sendButton\">\r\n            Send\r\n          </Button>\r\n\r\n\r\n        </Col>\r\n\r\n    \r\n\r\n      </Row>\r\n\r\n      </Col>\r\n     \r\n\r\n      </Row>\r\n\r\n\r\n\r\n        {/* <Col lg={3}>\r\n          <ChatThreads blocked={blocked} />\r\n        </Col>\r\n        <Col lg={6} className=\"chat\">\r\n          {friendData === null ? null : (\r\n            <h1 className=\"headline\">\r\n              Chat sa {friendData.firstName}\r\n              {friendData.lastName}\r\n            </h1>\r\n          )}\r\n          <Button variant=\"danger\" onClick={() => rejectUser(chat_id)}>\r\n            Im not interested\r\n          </Button>\r\n          {chatMessages?.map((m, i) => {\r\n            if (i == 0) return;\r\n\r\n            return (\r\n              <>\r\n                <p\r\n                  key={i}\r\n                  className={\r\n                    m.senderID == userData._id || m.senderID === undefined\r\n                      ? \"msg\"\r\n                      : \"fmsg\"\r\n                  }\r\n                >\r\n                  {_.isUndefined(friendData) || _.isNull(friendData) ? (\r\n                    <Spinner animation=\"border\" />\r\n                  ) : m.senderID != userData._id && m.senderID != undefined ? (\r\n                    <img src={friendData.imageUrl} width=\"20px\" />\r\n                  ) : null}\r\n\r\n               \r\n                  \r\n                \r\n                  {m.imageUrl != undefined ? <img src={m.imageUrl}  style={{borderRadius:\"0px\",width:\"100%\",marginRight:\"300px\"}}/>  : m.message}\r\n                 \r\n                 \r\n                  \r\n                  \r\n                </p>\r\n\r\n                <div className=\"clear\"></div>\r\n\r\n               \r\n              </>\r\n            );\r\n          })}\r\n\r\n          {blocked == true ? (\r\n            <Alert variant=\"danger\">\r\n              {userWhoBlocked == userData._id\r\n                ? userData.firstName + userData.lastName + \" \"\r\n                : friendData.firstName + friendData.lastName + \" \"}\r\n              has blocked the chat\r\n            </Alert>\r\n          ) : null}\r\n\r\n          <hr />\r\n          <textarea ref={textArea} className=\"textarea\">\r\n\r\n          </textarea>\r\n\r\n          <Button\r\n            variant=\"secondary\"\r\n            style={{\r\n              backgroundColor: \"lightgrey\",\r\n              marginRight: \"10px\",\r\n              border: \"none\",\r\n            }}\r\n            onClick={showWidget}\r\n          >\r\n            <img\r\n              src=\"https://cdn.iconscout.com/icon/free/png-256/gallery-187-902099.png\"\r\n              width=\"30px\"\r\n            />\r\n          </Button>\r\n          <Button onClick={handleSubmit} disabled={blocked}>\r\n            Send\r\n          </Button>\r\n        </Col>\r\n        <Col lg={1}></Col>\r\n      </Row> */}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport {hobbieColor} from \"./Files/Hobbies.json\"\r\n\r\n\r\nfunction HobbiesButton(props) {\r\n    const {name,index}= props\r\n    \r\n    return (\r\n        <Button className=\"categoryBtn\" style={{backgroundColor:hobbieColor[index],border:\"none\",marginTop:\"10px\"}}>\r\n            {name}\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default HobbiesButton\r\n","import React, { useContext, useRef, useState } from \"react\";\r\nimport { Alert, Button, Col, Row } from \"react-bootstrap\";\r\nimport \"./MyProfile.css\";\r\nimport { hobbies as hobbiesJSON } from \"./Files/Hobbies.json\";\r\nimport HobbiesButton from \"./HobbiesButton\";\r\nimport { default as _ } from \"lodash\";\r\nimport { errorHandler, getSexOr } from \"./functions/Functions\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./MyProfile.css\"\r\n\r\nfunction Hobbies(props) {\r\n  const { hobbies: old } = props;\r\n\r\n  const {accessToken} = useContext(myContext)\r\n\r\n  const [hobbies, setHobbies] = useState(\r\n    old.map((i) => {\r\n      return { category: i.category, interest: i.interest };\r\n    })\r\n  );\r\n\r\n  const [toggle, setToggle] = useState(false);\r\n\r\n  const [selectValues, setSelectValues] = useState([]);\r\n  const [activeCategory, setActiveCategory] = useState(null);\r\n\r\n  const selectValue = useRef(null);\r\n\r\n  const setSelect = (values, category) => {\r\n    let arr = [];\r\n    setActiveCategory(category);\r\n    values.forEach((element) => {\r\n      let isIn = false;\r\n      hobbies.forEach((el) => {\r\n        if (el.interest == element) {\r\n          isIn = true;\r\n        }\r\n      });\r\n      if (!isIn) {\r\n        arr.push(element);\r\n      }\r\n    });\r\n    console.log(arr);\r\n    setSelectValues(arr);\r\n  };\r\n\r\n  const addHobby = (value) => {\r\n    setHobbies([...hobbies, { category: activeCategory, interest: value }]);\r\n    setSelectValues([...selectValues.filter((i) => i != value)]);\r\n  };\r\n\r\n  const deleteHobbie = (indx,category,value) => {\r\n    setHobbies(hobbies.filter((el,i)=>i != indx))\r\n    if(activeCategory==category){\r\n        setSelectValues([...selectValues,value])\r\n    }\r\n     \r\n  }\r\n\r\n  const saveData = async() => {\r\n    try {\r\n        console.log({ interests: hobbies });\r\n        const res = await axios.patch(\r\n          process.env.REACT_APP_GET_USER_DATA,\r\n          {\r\n            interests: hobbies.map((i) => {\r\n              return {\r\n                category: i.category,\r\n                interest: i.interest,\r\n              };\r\n            }),\r\n          },\r\n          {\r\n            headers: {\r\n              authorization: accessToken,\r\n            },\r\n          }\r\n        );\r\n        console.log(res.data);\r\n        setHobbies(res.data.data.interests);\r\n        window.location.reload();\r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n}\r\n\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col lg={12} style={{marginLeft:\"-20px\"}}>\r\n        {hobbies.map((hobbie,i) => {\r\n          return <button className=\"myHobbies\" onClick={()=>deleteHobbie(i,hobbie.category,hobbie.interest)}>{hobbie.interest}</button>;\r\n        })}\r\n\r\n        </Col>\r\n       \r\n      </Row>\r\n\r\n\r\n        <>\r\n         <Button\r\n                variant=\"success\"\r\n                onClick={()=>saveData()}\r\n              >\r\n                Spremi promjene\r\n              </Button>\r\n         \r\n          {selectValues.length == 0 ? (\r\n            <Alert variant=\"danger\" >Nema vie interesa za ovu kategoriju</Alert>\r\n          ) : (\r\n            <>\r\n              <select ref={selectValue} className=\"select-categories\">\r\n                {selectValues.map((v) => {\r\n                  return <option>{v}</option>;\r\n                })}\r\n              </select>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => addHobby(selectValue.current.value)}\r\n                style={{backgroundColor:\"#578BB8\",border:\"none\",borderRadius:\"0\",padding:\"10px\",width:\"20%\"}}\r\n              >\r\n                Add\r\n              </Button>\r\n             \r\n            </>\r\n          )}\r\n\r\n          \r\n        </>\r\n     \r\n\r\n     \r\n       \r\n        <Row>\r\n          \r\n          {Object.keys(hobbiesJSON).map((category, i) => {\r\n            return (\r\n              <Col\r\n\r\n                onClick={() => {\r\n                  setSelect(hobbiesJSON[category], category);\r\n                }}\r\n              >\r\n                <HobbiesButton name={category} index={i} />\r\n              </Col>\r\n            );\r\n          })}\r\n\r\n         \r\n        </Row>\r\n         \r\n        </>\r\n  \r\n   \r\n  );\r\n}\r\n\r\nexport default Hobbies;\r\n","import axios from \"axios\";\r\nimport { isNull } from \"lodash\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport \"./Gallery.css\"\r\n\r\nfunction Gallery() {\r\n  const { userData, accessToken, setUserData } = useContext(myContext);\r\n  const [galleryPhotos, setGalleryPhotos] = useState(userData.gallery);\r\n\r\n  const [toggleGallery, setToggleGallery] = useState(false);\r\n\r\n  let widget2 = window.cloudinary.createUploadWidget(\r\n    {\r\n      cloudName: \"dbfwwnhat\",\r\n      uploadPreset: \"jydos0sa\",\r\n      folder: \"users\",\r\n      //  cropping:true,\r\n      name: \"hey\",\r\n    },\r\n    (error, result) => {\r\n      if (result.event == \"queues-end\") {\r\n        console.log(result);\r\n\r\n        setGalleryPhotos([\r\n          ...galleryPhotos,\r\n          {imageUrl:result.info.files[0].uploadInfo.secure_url},\r\n        ]);\r\n      }\r\n    }\r\n  );\r\n\r\n  function showWidget2() {\r\n    widget2.open();\r\n  }\r\n\r\n  const addGalleryPhoto = () => {\r\n    showWidget2();\r\n  };\r\n\r\n  const NewOptions = () => {\r\n    return (\r\n      <>\r\n        {galleryPhotos.map((img) => {\r\n          return (\r\n            <img\r\n              src={img.imageUrl}\r\n              style={{ borderRadius: \"0px\", width: \"30%\", marginRight: \"10px\" }}\r\n            />\r\n          );\r\n        })}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const saveGallery = async () => {\r\n    try {\r\n     \r\n      console.log(galleryPhotos)\r\n      const obj = {\r\n        gallery: galleryPhotos.map(i=>{return {imageUrl:i.imageUrl}})\r\n      };\r\n      console.log(obj);\r\n      const res = await axios.patch(process.env.REACT_APP_GET_USER_DATA, obj, {\r\n        headers: {\r\n          authorization: accessToken,\r\n        },\r\n      });\r\n      console.log(res.data);\r\n      setUserData(res.data.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  const deleteImage = (i) => {\r\n    \r\n      const arr = galleryPhotos.filter((img,indx)=> indx != i )\r\n      setGalleryPhotos(arr)\r\n   \r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col>\r\n      {/* <Button\r\n        className=\"editBtn\"\r\n        onClick={() => setToggleGallery(!toggleGallery)}\r\n        style={{ marginTop: \"-80px\", marginLeft: \"100px\" }}\r\n      >\r\n        Edit\r\n      </Button> */}\r\n      </Col>\r\n\r\n      <Row>\r\n\r\n        <Col style={{display:\"inline-block\"}} lg={12}>\r\n        {galleryPhotos.map((img,i) => {\r\n          return (\r\n            <>\r\n            \r\n            <img\r\n              src={img.imageUrl}\r\n              style={{borderRadius:\"0px\",width:\"30%\",backgroundSize: \"cover\",padding:\"5px\"}}\r\n              onClick={()=>deleteImage(i)}\r\n              \r\n            />\r\n          \r\n            </>\r\n          );\r\n        })}\r\n        </Col>\r\n\r\n      </Row>\r\n     \r\n    \r\n\r\n   \r\n       \r\n          <Row style={{ marginTop: \"10px\" }}>\r\n            <Col>\r\n            <Button variant=\"primary\" onClick={() => showWidget2()} style={{backgroundColor:\"#578BB8\",border:\"none\",borderRadius:\"0\",\r\n          padding:\"10px\",marginRight:\"10px\"\r\n          }}>\r\n              Dodaj novu sliku\r\n            </Button>\r\n            <Button variant=\"success\" onClick={() => saveGallery()} style={{border:\"none\",borderRadius:\"0\",\r\n          padding:\"10px\",marginRight:\"10px\"\r\n          }}>\r\n              Spremi promjene\r\n            </Button>\r\n            </Col>\r\n         \r\n          \r\n          </Row>\r\n       \r\n\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default Gallery;\r\n","import axios from 'axios'\r\nimport React, { useContext } from 'react'\r\nimport { useRef } from 'react'\r\nimport { Button, FormControl } from 'react-bootstrap'\r\nimport myContext from './contexts/myContext'\r\nimport { errorHandler } from './functions/Functions'\r\n\r\nfunction ChangePassword() {\r\n\r\n    const pass1 = useRef(null)\r\n    const pass2 = useRef(null)\r\n\r\n    const {accessToken} =useContext(myContext)\r\n\r\n    const changePassword = async() => {\r\n        \r\n\r\n        try {\r\n            const res = await axios.patch(\r\n              process.env.REACT_APP_CHANGE_PASSWORD,\r\n              { oldPassword: pass1.current.value,\r\n                newPassword : pass2.current.value\r\n                \r\n            },\r\n              {\r\n                headers: {\r\n                  authorization: accessToken,\r\n                },\r\n              }\r\n            );\r\n            console.log(res.data);\r\n          } catch (error) {\r\n            errorHandler(error);\r\n          }\r\n\r\n          window.location.reload();\r\n        \r\n    }\r\n\r\n    return (\r\n        <div>\r\n         \r\n\r\n           \r\n            {/* <input type=\"password\" name=\"password\" ref={pass1}/> */}\r\n            <FormControl\r\n            placeholder=\"Stara lozinka\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            ref={pass1}\r\n            aria-label=\"Stara lozinka\"\r\n            aria-describedby=\"basic-addon1\"\r\n          />\r\n\r\n            <br/>\r\n          \r\n\r\n            <FormControl\r\n            placeholder=\"Nova lozinka\"\r\n            type=\"password\"\r\n            name=\"password2\"\r\n            ref={pass2}\r\n            ref={pass1}\r\n            aria-label=\"Nova lozinka\"\r\n            aria-describedby=\"basic-addon1\"\r\n          />\r\n\r\n            <br/><br/>\r\n            <Button variant=\"primary\" onClick={()=>changePassword()}>Promijeni lozinku</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChangePassword\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Row,\r\n  Dropdown,\r\n  DropdownButton,\r\n  ButtonGroup,\r\n  Popover,\r\n  OverlayTrigger,\r\n  Tooltip,\r\n  Overlay,\r\n  Modal,\r\n} from \"react-bootstrap\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport \"./MyProfile.css\";\r\nimport { Formik, Field, Form, useFormik } from \"formik\";\r\nimport { errorHandler } from \"./functions/Functions\";\r\nimport axios from \"axios\";\r\nimport { default as _, filter } from \"lodash\";\r\nimport Hobbies from \"./Hobbies\";\r\nimport Gallery from \"./Gallery\";\r\nimport ChangePassword from \"./ChangePassword\";\r\nimport Header from \"./Header\"\r\nimport \"./MyProfile.css\";\r\n\r\nimport pattern from \"../images/pattern.jpg\"\r\n\r\nimport {FaCamera} from 'react-icons/fa';\r\n\r\nimport {FaGraduationCap} from 'react-icons/fa';\r\nimport Slideshow from \"./Slideshow\";\r\n\r\nfunction MyProfile() {\r\n  const { userData, accessToken,setUserData } = useContext(myContext);\r\n  const descRef = useRef(userData.description);\r\n  const eduRef = useRef(userData.education);\r\n  const jobRef = useRef(userData.job);\r\n\r\n  const ref1 = useRef()\r\n  const ref2 = useRef()\r\n  const ref3 = useRef()\r\n  const sexes = [\"Males\",\"Females\",\"Both\"]\r\n  const selectRef = useRef();\r\n  const [imageUrl, setImageUrl] = useState(userData.imageUrl);\r\n\r\n  const [toggleGallery, setToggleGallery] = useState(false)\r\n\r\n  const [toggleEditDesc, setToggleEditDesc] = useState(true);\r\n  const [toggleEditEdu, setToggleEditEdu] = useState(true);\r\n  const [toggleEditJob, setToggleEditJob] = useState(true);\r\n  const [toggleEditHobbies, setToggleEditHobbies] = useState(false);\r\n  const [toggleEditSexOr, setToggleEditSexOr] = useState(true);\r\n  const [toggleHobbies, setToggleHobbies] = useState(false);\r\n  const [displayTags, setDisplayTags] = useState(false);\r\n  const [hobbies, setHobbies] = useState(userData.interests);\r\n  const [sexOr, setSexOr] = useState(\"\");\r\n  const [selectHobbies, setSelectHobbies] = useState([]);\r\n  const [selectCategories, setSelectCategories] = useState(null);\r\n  const [jobData, setJobData] = useState(\"\");\r\n  \r\n  const [toggleChangePass, setToggleChangePass] = useState(false)\r\n\r\n  const [selectValue, setSelectValue] = useState(\"Choose hobbies\")\r\n\r\n  const selectHobbieRef = useRef(null)\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n\r\n  const handleCloseEduJob = () => setShowEduJob(false);\r\n  const handleShowEduJob = () => setShowEduJob(true);\r\n\r\n\r\n  const handleClosePass = () => setShowPassword(false);\r\n  const handleShowPass = () => setShowPassword(true);\r\n  \r\n  \r\n\r\n  const handleCloseGallery = () => setShowGallery(false);\r\n  const handleShowGallery = () => setShowGallery(true);\r\n\r\n  const handleCloseHobbies = () => setShowHobbies(false);\r\n  const handleShowHobbies = () => setShowHobbies(true);\r\n\r\n  const handleCloseSlideShow = () => setShowSlideShow(false);\r\n  const handleShowSlideShow = () => setShowSlideShow(true);\r\n\r\n  const entHobbies = [\"TV Series\", \"Games\", \"Movies\", \"Board Games\"];\r\n  const healFitHobbies = [\"Workout\", \"Dieting\"];\r\n  const foodHobbies = [\"Cooking\", \"Eating Out\", \"Drinks\", \"Brewing Beer\"];\r\n  const readLearnHobbies = [\"Programming\", \"Science\", \"Reading\"];\r\n  const OutdoorHobbies = [\r\n    \"Hiking\",\r\n    \"Sports\",\r\n    \"Football\",\r\n    \"Basketball\",\r\n    \"Swimming\",\r\n    \"Camping\",\r\n  ];\r\n  const otherHobbies = [];\r\n\r\n  const editDesc = () => {\r\n    setToggleEditDesc(false);\r\n  };\r\n\r\n  const editEdu = () => {\r\n    setToggleEditEdu(false);\r\n  };\r\n\r\n  const editSexOr = () => {\r\n    setToggleEditSexOr(false);\r\n  };\r\n\r\n  const editJob = () => {\r\n    setToggleEditJob(false);\r\n  };\r\n\r\n  const getSexOr = (sex) => {\r\n    if (sex == 0) {\r\n      return \"males\";\r\n    } else if (sex == 1) {\r\n      return \"females\";\r\n    } else if (sex == 2) {\r\n      return \"both\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  ///WIDGET\r\n\r\n  let widget = window.cloudinary.createUploadWidget(\r\n    {\r\n      cloudName: \"dbfwwnhat\",\r\n      uploadPreset: \"jydos0sa\",\r\n      folder: \"users\",\r\n      //  cropping:true,\r\n      name: \"hey\",\r\n    },\r\n    (error, result) => {\r\n      if (result.event == \"queues-end\") {\r\n        console.log(result);\r\n        setImageUrl(result.info.files[0].uploadInfo.secure_url);\r\n\r\n        saveImage(result.info.files[0].uploadInfo.secure_url);\r\n\r\n       \r\n      }\r\n    }\r\n  );\r\n\r\n\r\n  \r\n\r\n  function showWidget() {\r\n    widget.open();\r\n  }\r\n\r\n  const saveEduJobData = async () => {\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_GET_USER_DATA,\r\n        { education: eduRef.current.value, job: jobRef.current.value },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n     \r\n      setUserData(res.data)\r\n      // setShow(false)\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n\r\n    // window.location.reload();\r\n  };\r\n\r\n  const saveData = async () => {\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_GET_USER_DATA,\r\n        { description: descRef.current.value },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  const saveImage = async (image) => {\r\n    try {\r\n      const res = await axios.patch(\r\n        process.env.REACT_APP_GET_USER_DATA,\r\n        { imageUrl: image },\r\n        {\r\n          headers: {\r\n            authorization: accessToken,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data);\r\n    } catch (error) {\r\n      errorHandler(error);\r\n    }\r\n  };\r\n\r\n\r\n  const saveSexOrData = async () => {\r\n    let ele = document.getElementsByName('gender');\r\n      \r\n      const checked = [...ele].filter(radio => radio.checked)[0].value\r\n\r\n      try {\r\n        const res = await axios.patch(process.env.REACT_APP_GET_USER_DATA,{sexualOrientation:Number(sexes.indexOf(checked))},\r\n        {\r\n            headers:{\r\n                'authorization': accessToken\r\n              }\r\n        }\r\n        )\r\n        console.log(res.data)\r\n       \r\n       \r\n        \r\n      } catch (error) {\r\n        errorHandler(error);\r\n      }\r\n\r\n      window.location.reload();\r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    console.log(hobbies);\r\n  }, [hobbies]);\r\n\r\n\r\n  const changeProfilePhoto = () => {\r\n    showWidget()\r\n  }\r\n\r\n  \r\n \r\n  const [show, setShow] = useState(false);\r\n  const [showEduJob, setShowEduJob] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showGallery, setShowGallery] = useState(false);\r\n  const [showHobbies, setShowHobbies] = useState(false);\r\n  const [showSlideShow, setShowSlideShow] = useState(false);\r\n\r\n  \r\n  \r\n  \r\n\r\n  const [slideshow, setSlideshow] = useState(false)\r\n\r\n  return (\r\n    <Container fluid\r\n    style={{\r\n      background: `url(${pattern})`,\r\n      height: \"100vh\",\r\n      backgroundSize: \"cover\",\r\n     \r\n    \r\n    }}\r\n    >\r\n      <Row>\r\n        <Header/>\r\n      </Row>\r\n      <Row>\r\n\r\n      <Col lg={4} md={12} sm={10} className=\"aboutMe\">\r\n        {/* <Row>\r\n          <Col>\r\n          <Button className=\"talk\" >Razgovaraj</Button>\r\n          </Col>\r\n          <Col>\r\n          <div style={{float:\"right\"}}>\r\n          <Button style={{marginTop:\"10px\",marginRight:\"10px\",borderRadius:\"0px\",backgroundColor:\"#F59391\",border:\"none\"}}>Like</Button>\r\n          <Button style={{marginTop:\"10px\",borderRadius:\"0px\",backgroundColor:\"#DF314D\",border:\"none\"}}>Dislike</Button>\r\n          </div>\r\n          <div style={{clear:\"both\"}}></div>\r\n          </Col>\r\n        \r\n        </Row> */}\r\n\r\n\r\n        <Row>\r\n          <Col>\r\n          <img src={imageUrl} width=\"50%\" className=\"myProfilePhoto\" />\r\n          <Button className=\"changeProfilePhotoButton\" onClick={changeProfilePhoto}><FaCamera/></Button>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n        <Col>\r\n        <h3 className=\"credentials\">{userData.firstName} {userData.lastName},{userData.age}, {userData.gender}</h3>\r\n        <h5 className=\"credentials\" style={{marginTop:\"20px\"}}>{userData.city},{userData.zip}</h5>\r\n        </Col>\r\n\r\n\r\n        </Row>\r\n\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n          <Col lg={8}>\r\n            <h3 className=\"titleMe\">O meni</h3>\r\n            <p className=\"desc\">{userData.description}</p>\r\n          </Col>\r\n          <Col>\r\n          <Button className=\"editButton\" style={{marginTop:\"30px\"}} onClick={handleShow}>\r\n          Uredi\r\n      </Button>\r\n\r\n      <Modal show={show} onHide={handleClose}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>Uredi opis</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n   \r\n        <textarea\r\n          placeholder=\"Personal Description\"\r\n          className=\"textarea\"\r\n          maxlength=\"150\"\r\n          ref={descRef}\r\n        >\r\n          {userData.description}\r\n        </textarea>\r\n\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={handleClose}>\r\n        Zatvori\r\n      </Button>\r\n      <Button variant=\"primary\" onClick={saveData} style={{backgroundColor:\"#578BB8\",border:\"none\"}}>\r\n        Spremi promjene\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n          </Col>\r\n        </Row>\r\n\r\n\r\n        <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n          <Col lg={8}>\r\n          <h3 className=\"titleMe\">Posao/Edukacija</h3>\r\n          <p>{userData.education}</p>\r\n          <p>{userData.job}</p>\r\n          </Col>\r\n\r\n\r\n          <Col>\r\n          <Button className=\"editButton\" style={{marginTop:\"30px\"}} onClick={handleShowEduJob}>\r\n          Uredi\r\n           </Button>\r\n\r\n           <Modal show={showEduJob} onHide={handleCloseEduJob}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Uredi Posao/Edukacija</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n   \r\n            <h5>Edukacija</h5>\r\n            <textarea\r\n              placeholder=\"Add Education\"\r\n              className=\"textarea\"\r\n              maxLength={100}\r\n              ref={eduRef}\r\n            >\r\n              {userData.education}\r\n            </textarea>\r\n\r\n            <h5>Posao</h5>\r\n            <textarea\r\n              placeholder=\"Add Job\"\r\n              className=\"textarea\"\r\n              maxLength={100}\r\n              ref={jobRef}\r\n            >\r\n              {userData.job}\r\n            </textarea>\r\n           \r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={handleCloseEduJob}>\r\n        Zatvori\r\n      </Button>\r\n      <Button variant=\"primary\" onClick={saveEduJobData} style={{backgroundColor:\"#578BB8\",border:\"none\"}}>\r\n        Spremi promjene\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n\r\n\r\n\r\n          </Col>\r\n          </Row>\r\n\r\n          <Row style={{paddingLeft:\"50px\"}}>\r\n\r\n            <Col>\r\n            <Button style={{backgroundColor:\"#578BB8\",border:\"none\",borderRadius:\"0\",marginBottom:\"20px\"}} onClick={handleShowPass}>Promijeni lozinku</Button>\r\n            </Col>\r\n\r\n              <Modal show={showPassword} onHide={handleClosePass}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Promijeni lozinku</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n    \r\n            <ChangePassword/>\r\n            \r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClosePass}>\r\n          Zatvori\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleClosePass} style={{backgroundColor:\"#578BB8\",border:\"none\"}}>\r\n          Spremi promjene\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n\r\n\r\n          </Row>\r\n\r\n\r\n\r\n      </Col>\r\n\r\n     \r\n      <Col lg={7} md={7} sm={10} className=\"nextMe\">\r\n\r\n      <Row>\r\n\r\n      <Col lg={10}>\r\n      <h3 className=\"titleMe\" style={{marginTop:\"30px\",marginLeft:\"20px\"}}>Galerija</h3>\r\n      \r\n\r\n      </Col>\r\n      <Col>\r\n      <Button className=\"editButton\" style={{marginTop:\"20px\"}} onClick={handleShowGallery}>\r\n          Uredi\r\n      </Button>\r\n\r\n\r\n <Modal show={showGallery} onHide={handleCloseGallery} size=\"xl\">\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Uredi Galeriju</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n\r\n              <Gallery/>\r\n            \r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleCloseGallery}>\r\n          Zatvori\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleCloseGallery} style={{backgroundColor:\"#578BB8\",border:\"none\"}}>\r\n          Spremi promjene\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n\r\n      </Col>\r\n\r\n      </Row>\r\n    \r\n      <Row style={{marginLeft:\"10px\",marginTop:\"10px\"}}> \r\n      \r\n      {userData.gallery.map(img=>{\r\n        return <img src={img.imageUrl} style={{width:\"30%\",height:\"200px\",backgroundSize:\"cover\",borderRadius:\"0px\"}}\r\n        onClick={handleShowSlideShow}\r\n        />\r\n      })}\r\n\r\n\r\n    <Modal show={showSlideShow} onHide={handleCloseSlideShow} className=\"slideShow\" size=\"xl\" closeButton>\r\n              {/* <Modal.Header closeButton>\r\n                <Modal.Title>Uredi Galeriju</Modal.Title>\r\n              </Modal.Header> */}\r\n              <Modal.Body >\r\n\r\n              <Slideshow images={userData.gallery}/>\r\n            \r\n      </Modal.Body>\r\n     \r\n    </Modal>\r\n\r\n     \r\n      </Row>\r\n\r\n\r\n      <Row>\r\n        <Col lg={10}>\r\n        <h3 className=\"titleMe\" style={{marginTop:\"30px\",marginLeft:\"20px\",marginBottom:\"20px\"}}>Moji interesi</h3>\r\n        {userData.interests.map(i=>{\r\n          return <li className=\"myHobbies\">{i.interest}</li>\r\n        })}\r\n        </Col>\r\n        <Col lg={2}>\r\n        <Button className=\"editButton\" style={{marginTop:\"50px\"}} onClick={handleShowHobbies}>\r\n          Uredi\r\n      </Button>\r\n\r\n      <Modal show={showHobbies} onHide={handleCloseHobbies}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Uredi interese</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n   \r\n            <Hobbies hobbies={userData.interests}/>\r\n           \r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={handleCloseHobbies}>\r\n        Zatvori\r\n      </Button>\r\n      <Button variant=\"primary\" onClick={saveData} style={{backgroundColor:\"#578BB8\",border:\"none\"}}>\r\n        Spremi promjene\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n\r\n\r\n\r\n        </Col>\r\n      </Row>\r\n\r\n      </Col>\r\n\r\n        {/* <div className=\"profile\">\r\n          <div className=\"profilePhoto\">\r\n            <img src={imageUrl} width=\"50%\" />\r\n            <br />\r\n            <Button style={{ marginTop: \"10px\" }} onClick={changeProfilePhoto}>\r\n              Change Profile Photo\r\n            </Button>\r\n          </div>{\" \"}\r\n          <p className=\"name\">\r\n            {userData.firstName} {userData.lastName} , {userData.age} , {userData.gender}\r\n          </p>\r\n       \r\n          <h3>City</h3>\r\n          <p>\r\n            {userData.city},{userData.zip}\r\n          </p>\r\n          <p></p>\r\n          <h3>I'm interested in</h3>\r\n          <p style={{ fontSize: \"20px\" }}>\r\n          <textarea\r\n              placeholder=\"Add Sex in which you are interested in\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditSexOr}\r\n              ref={eduRef}\r\n            >\r\n               {getSexOr(userData.sexualOrientation)}\r\n            </textarea>{\" \"}\r\n            <Button  className=\"editBtn\" onClick={editSexOr}>\r\n              Edit\r\n            </Button>\r\n            {toggleEditSexOr == false ? (\r\n              <>\r\n\r\n              <h5>Add Your Sexual Orientation</h5>\r\n\r\n              <Row>\r\n               \r\n\r\n                <div>\r\n                <input type=\"radio\" value=\"Males\" name=\"gender\" ref={ref1}/> {sexes[0]}\r\n                <input type=\"radio\" value=\"Females\" name=\"gender\" ref={ref2}/> {sexes[1]}\r\n                <input type=\"radio\" value=\"Both\" name=\"gender\" ref={ref3} /> {sexes[2]}\r\n              </div>\r\n\r\n                \r\n              </Row>\r\n\r\n                <Button\r\n                  onClick={saveSexOrData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditSexOr(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </p>\r\n          <h3>Gallery</h3>\r\n          \r\n\r\n            <Gallery />\r\n\r\n         \r\n          \r\n          \r\n        \r\n          <br/> <br/>\r\n         \r\n          \r\n          <br />\r\n          <br />\r\n          <h3>About</h3>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Add Education\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditEdu}\r\n              ref={eduRef}\r\n            >\r\n              {userData.education}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editEdu} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditEdu == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveEduData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditEdu(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Add Job\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditJob}\r\n              ref={jobRef}\r\n            >\r\n              {userData.job}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editJob} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditJob == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveJobData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditJob(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"description\">\r\n            <textarea\r\n              placeholder=\"Personal Description\"\r\n              className=\"textarea\"\r\n              disabled={toggleEditDesc}\r\n              ref={descRef}\r\n            >\r\n              {userData.description}\r\n            </textarea>{\" \"}\r\n            <Button onClick={editDesc} className=\"editBtn\">\r\n              Edit\r\n            </Button>\r\n            {toggleEditDesc == false ? (\r\n              <>\r\n                <Button\r\n                  onClick={saveData}\r\n                  variant=\"success\"\r\n                  className=\"saveBtn\"\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setToggleEditDesc(true)}\r\n                  variant=\"danger\"\r\n                  className=\"saveBtn\"\r\n                  style={{ marginLeft: \"5px\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n          <br />\r\n          <h3>Hobbies</h3>\r\n         \r\n         <Hobbies hobbies={userData.interests}/>\r\n          <br/><br/>\r\n         <Button variant=\"secondary\" onClick={()=>setToggleChangePass(!toggleChangePass)}>Change my Password</Button>\r\n\r\n          {toggleChangePass == true ? \r\n          \r\n            <ChangePassword/> : null\r\n        }\r\n\r\n        \r\n        </div> */}\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default MyProfile;\r\n","import axios from 'axios';\r\nimport React, { useContext, useRef } from 'react'\r\nimport { Alert, Button, FormControl, InputGroup } from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom';\r\nimport myContext from './contexts/myContext';\r\nimport { errorHandler } from './functions/Functions';\r\n\r\nfunction SendEmailForgotPass() {\r\n\r\n    const email = useRef(null)\r\n    const {accessToken} = useContext(myContext)\r\n\r\n    const history = useHistory()\r\n\r\n    const sendToEmail = async(value) => {\r\n        console.log(value)\r\n        \r\n        try {\r\n           \r\n                  const res = await axios.post(\r\n                    process.env.REACT_APP_FORGOT_PASSWORD ,\r\n                    {\r\n                      email:value\r\n                    },\r\n                    {\r\n                      headers: {\r\n                        authorization: accessToken,\r\n                      },\r\n                    }\r\n                  );\r\n                  console.log(res.data);\r\n                  \r\n                \r\n                } catch (error) {\r\n                  errorHandler(error);\r\n                }\r\n\r\n\r\n                history.push(\"/\")\r\n                \r\n    }\r\n\r\n    return (\r\n\r\n       \r\n        <div style={{width:\"50%\",margin:\"150px auto\"}}>\r\n            <h2>Enter your Email</h2>\r\n\r\n            {/* <input type=\"email\" name=\"email\" placeholder=\"Enter your Email\" className=\"mb-3\" ref={email}/> */}\r\n          \r\n            <InputGroup className=\"mb-3\">\r\n            <FormControl\r\n            placeholder=\"Recipient's username\"\r\n            aria-label=\"Recipient's username\"\r\n            aria-describedby=\"basic-addon2\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            ref={email}\r\n        />\r\n             <Button variant=\"outline-secondary\" id=\"button-addon2\" onClick={()=>sendToEmail(email.current.value)}>\r\n            Send\r\n            </Button>\r\n\r\n        </InputGroup>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendEmailForgotPass\r\n","import React from 'react'\r\nimport Footer from './Footer'\r\nimport LandingPage from \"./LandingPage\"\r\nimport LandingRegister from './LandingRegister'\r\nimport MapPage from './MapPage'\r\nimport UserReviews from './UserReviews'\r\n\r\nfunction Page() {\r\n    return (\r\n        <React.Fragment>\r\n\r\n        <LandingPage/>\r\n        <LandingRegister/>\r\n        <MapPage/>\r\n        <UserReviews/>\r\n        <Footer/>\r\n            \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Page\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport LandingPage from \"./LandingPage\";\r\nimport LogIn from \"./LogIn\";\r\nimport Register from \"./Register\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport CompleteSetup from \"./CompleteSetup\";\r\nimport myContext from \"./contexts/myContext\";\r\nimport Main from \"./Main\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { default as _ } from \"lodash\";\r\nimport UserProfile from \"./UserProfile\";\r\nimport Chat from \"./chat/Chat\";\r\nimport MyProfile from \"./MyProfile\";\r\nimport SendEmailForgotPass from \"./SendEmailForgotPass\";\r\nimport Page from \"./Page\";\r\n\r\nfunction Routes() {\r\n  const { accessToken, userData, socket, refreshToken } = useContext(myContext);\r\n  \r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Page />\r\n        </Route>\r\n        <Route path=\"/login\">\r\n          <LogIn />\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          <Register />\r\n        </Route>\r\n\r\n        <Route path=\"/userChats\">\r\n          <Chat/>\r\n        </Route>\r\n\r\n        <Route exact path=\"/completeSetup\" component={CompleteSetup} />\r\n\r\n        <Route exact path=\"/forgotPassword\" component={SendEmailForgotPass} />\r\n        \r\n        <Route exact path=\"/myProfile\">\r\n          {_.isNull(userData) || _.isUndefined(userData) || _.isNull(socket) ? \r\n            <Spinner animation=\"border\" />\r\n           : \r\n            <MyProfile />\r\n          }\r\n        </Route>\r\n\r\n        {_.isNull(localStorage.getItem(\"refreshToken\")) ? \r\n          <Redirect to=\"/\" />\r\n         : \r\n          <div>\r\n          \r\n            {_.isNull(userData) ||\r\n            _.isUndefined(userData) ||\r\n            _.isNull(socket) ? \r\n\r\n            \r\n              <Spinner animation=\"border\" />\r\n             : \r\n              <div>\r\n                <Route exact path=\"/main\">\r\n                  <Main />\r\n                </Route>\r\n\r\n                <Route exact path=\"/user/:id\" component={UserProfile} />\r\n\r\n                <Route exact path=\"/chat/:id\">\r\n                  <Chat />\r\n                </Route>\r\n              </div>\r\n            }\r\n          </div>\r\n        }\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","\r\nimport { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport myContext from './components/contexts/myContext';\r\nimport Routes from \"./components/Routes\"\r\nimport axios from \"axios\"\r\nimport { errorHandler } from './components/functions/Functions';\r\nimport { Route, useHistory } from 'react-router-dom';\r\nimport { io } from 'socket.io-client';\r\nimport _ from 'lodash';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport LandingPage from './components/LandingPage';\r\n\r\nfunction App() {\r\n  \r\n  //TokenContext\r\n  const [accessToken,setAccessToken] = useState()\r\n  const [refreshToken,setRefreshToken] = useState(localStorage.getItem('refreshToken'))\r\n  const [userData,setUserData] = useState(null)\r\n  const [userPoints,setUserPoints] = useState(null)\r\n  const [chatId, setChatId] = useState(null)\r\n  const [socket,setSocket] = useState(null)\r\n  const [loggedIn,setLoggedIn] = useState(false)\r\n  \r\n  const {Provider} = myContext\r\n\r\n  const history = useHistory()\r\n \r\n  //TODO CHECK REFRESH TOKEN (if false redirect on login)\r\n\r\n \r\n  useEffect(async() => {\r\n  if(localStorage.getItem(\"refreshToken\") != null){\r\n    setSocket(io(\"ws://localhost:8900\"));\r\n    await getAcessToken()\r\n  }\r\n  \r\n }, [loggedIn])\r\n\r\n \r\n  useEffect(()=>{\r\n    if(! _.isNull(userData) && !_.isUndefined(userData)){\r\n      socket.emit(\"addUser\", userData._id);\r\n    }\r\n  },[userData])\r\n\r\n  \r\n  const getUserData = async (access = accessToken)=>{\r\n    try{\r\n \r\n      const res = await axios.get(\r\n        process.env.REACT_APP_GET_USER_DATA,\r\n        {\r\n          headers: {\r\n            \"authorization\": access,\r\n          }\r\n        }\r\n      );\r\n      setUserData(res.data)\r\n      \r\n    }\r\n    catch(error){\r\n      errorHandler(error)\r\n    }\r\n  }\r\n\r\n  const getAcessToken = async ()=>{\r\n    \r\n    //CHECK IF REFRESH TOKEN \r\n    if(refreshToken != null){\r\n  \r\n      try{\r\n        const res = await axios.get(\r\n          process.env.REACT_APP_GET_ACCESS,\r\n          {\r\n            headers: {\r\n              \"authorization\": refreshToken,\r\n            }\r\n          }\r\n        );\r\n        const { data, message, length } = res.data;\r\n\r\n        await setAccessToken(data)\r\n\r\n        getUserData(data)\r\n      \r\n      }\r\n      catch(error){\r\n        errorHandler(error)\r\n        //if error 444 call get access\r\n        \r\n      }\r\n          \r\n   }\r\n  }\r\n\r\n  useEffect(async () => {\r\n     //CHECK IF REFRESH TOKEN \r\n     if(refreshToken != null){\r\n      setTimeout(await getAcessToken, 60*900000); //900000\r\n     }\r\n  }, [accessToken])\r\n  \r\n  console.log(socket)\r\n  \r\n  return (\r\n    <div>\r\n      <Provider value={{accessToken,setAccessToken,refreshToken,setRefreshToken,userData,setUserData,chatId,setChatId,socket,loggedIn,setLoggedIn,\r\n      userPoints,setUserPoints\r\n      }}>\r\n     \r\n      {/* {_.isNull(socket) || _.isNull(userData) ? <Spinner></Spinner>:  <Routes />}\r\n       */}\r\n     \r\n       <Routes/>\r\n    \r\n      </Provider>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}